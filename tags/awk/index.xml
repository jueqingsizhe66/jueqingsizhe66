<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>awk | Macro Life</title>
    <link>https://jueqingsizhe66.github.io/tags/awk/</link>
      <atom:link href="https://jueqingsizhe66.github.io/tags/awk/index.xml" rel="self" type="application/rss+xml" />
    <description>awk</description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><language>en-us</language><copyright>©2020</copyright><lastBuildDate>Wed, 05 Jul 2017 13:44:15 +0800</lastBuildDate>
    <image>
      <url>https://jueqingsizhe66.github.io/img/icon-192.png</url>
      <title>awk</title>
      <link>https://jueqingsizhe66.github.io/tags/awk/</link>
    </image>
    
    <item>
      <title>批量修改pdf文件名以及创建wiki Links</title>
      <link>https://jueqingsizhe66.github.io/blog/2017/07/05/pi-liang-xiu-gai-pdfwen-jian-ming-yi-ji-chuang-jian-wiki-links/</link>
      <pubDate>Wed, 05 Jul 2017 13:44:15 +0800</pubDate>
      <guid>https://jueqingsizhe66.github.io/blog/2017/07/05/pi-liang-xiu-gai-pdfwen-jian-ming-yi-ji-chuang-jian-wiki-links/</guid>
      <description>&lt;p&gt;bash、awk、sed等的好处，就是可以专一的完成你的需求，但是也存在很多不足，借着批量重命令和批量导出链接到vimwiki的wiki中，形成[[local:文件名路径]]的过程，巩固学习linux命令, it is homework(learning process)。&lt;/p&gt;
&lt;h1 id=&#34;vimwiki&#34;&gt;提取路径，用于vimwiki中，当作快速链接&lt;/h1&gt;
&lt;p&gt;如果IFS是”“，那么相当于一个文件名特别长会分成很多行显示，所以这边设置为 IFS=$‘\n’&lt;/p&gt;
&lt;p&gt;[a-z]star替换原先的star，目的是去除点号。
使用echo和管道命令传递信息给sed或者awk等
在sed中似乎用^$等位置字符进行替换,如果是文件夹则进行名字替换，并且遍历当前文件夹
使用双重for循环进行控制&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;IFS&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;$&amp;#39;\n&amp;#39;&lt;/span&gt;;
count&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;1;
countDir&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;1;
specialCharacter&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;pages&amp;#39;&lt;/span&gt;;
generateChapter&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# @Description : 对不同文件进行不同处理&lt;/span&gt;
                  &lt;span style=&#34;color:#75715e&#34;&gt;# @usage       : generatechapter&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
    &lt;span style=&#34;color:#75715e&#34;&gt;# 妙用find 得到当前目录的相对路径 不需要不断的进入目录&lt;/span&gt;
    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; var2 in &lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;find . -name &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;[a-z]*&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;
    &lt;span style=&#34;color:#66d9ef&#34;&gt;do&lt;/span&gt;
        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt; -d  $var2 &lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# &amp;lt; cannot . Error&lt;/span&gt;
        &lt;span style=&#34;color:#66d9ef&#34;&gt;then&lt;/span&gt;
            &lt;span style=&#34;color:#75715e&#34;&gt;#echo &amp;#34;fuck&amp;#34;&lt;/span&gt;
            var&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;echo $var2|sed &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;s/^./F:\/ScienceBase.Attachments\/WindEnergy/g&amp;#39;&lt;/span&gt;|sed &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;s/^/[[local:/g&amp;#39;&lt;/span&gt;|sed &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;s/$/]]/g&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;
            printf &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;= &lt;/span&gt;$countDir&lt;span style=&#34;color:#e6db74&#34;&gt;. [ ] &lt;/span&gt;$var&lt;span style=&#34;color:#e6db74&#34;&gt; =\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# 使用#号来删除之前的点号&lt;/span&gt;
            countDir&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;$((&lt;/span&gt;$countDir&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;))&lt;/span&gt;;

            &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; tempVar in &lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;find $var2 -name &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;*.pdf&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;
            &lt;span style=&#34;color:#66d9ef&#34;&gt;do&lt;/span&gt;
                temp1&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;echo $tempVar|sed &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;s/^./F:\/ScienceBase.Attachments\/WindEnergy/g&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt; 
    &lt;span style=&#34;color:#75715e&#34;&gt;#            # echo ${var2} ${var2:0:$((${var2}-18))}.pdf&lt;/span&gt;  
                 varr&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;echo $temp1|sed &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;s/^/[[local:/g&amp;#39;&lt;/span&gt;|sed &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;s/$/]]/g&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;;
                &lt;span style=&#34;color:#75715e&#34;&gt;#var=`echo $var2|sed &amp;#39;s/^./F:\/ScienceBase.Attachments\/WindEnergy/g&amp;#39;|sed &amp;#39;s/^/[[local:/g&amp;#39;|sed &amp;#39;s/$/]]/g&amp;#39;`&lt;/span&gt; 
                printf &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;\t&lt;/span&gt;$count&lt;span style=&#34;color:#e6db74&#34;&gt;. [ ] &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;${&lt;/span&gt;varr&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# 这边需要去除到第一个点号,这是才得到的处理方法&lt;/span&gt;
                count&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;$((&lt;/span&gt;$count&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;))&lt;/span&gt;;

            &lt;span style=&#34;color:#66d9ef&#34;&gt;done&lt;/span&gt;
            count&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;1;
        &lt;span style=&#34;color:#66d9ef&#34;&gt;fi&lt;/span&gt;
        

    &lt;span style=&#34;color:#66d9ef&#34;&gt;done&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;

generateChapter
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;heading&#34;&gt;删除不必要的名字特殊字符，重命名&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;删除文件pdf名字不必要的（pages 110—30）等信息。&lt;/li&gt;
&lt;li&gt;使用awk printf产生逗号分隔字符串，使用xargs -d, mv提取以逗号分隔的字段， 并且对文件名进行重命名（在我找的多种方法中，就他有效）&lt;/li&gt;
&lt;li&gt;&lt;code&gt;xargs -n 2&lt;/code&gt; 表示按照空格划分的方式 提取两个参数，逐个进行。&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#!/bin/bash -
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#===============================================================================&lt;/span&gt;
#
&lt;span style=&#34;color:#75715e&#34;&gt;#          FILE: b.sh&lt;/span&gt;
#
&lt;span style=&#34;color:#75715e&#34;&gt;#         USAGE: ./b.sh&lt;/span&gt;
#
&lt;span style=&#34;color:#75715e&#34;&gt;#   DESCRIPTION:&lt;/span&gt; 
#
&lt;span style=&#34;color:#75715e&#34;&gt;#       OPTIONS: ---&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;#  REQUIREMENTS: ---&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;#          BUGS: ---&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;#         NOTES: ---&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;#        AUTHOR: Ye Zhao Liang (Vimer), zhaoturkkey@163.com&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;#  ORGANIZATION: BrokenSun&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;#       CREATED: 2017/7/4 23:01:31&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;#      REVISION:  ---&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;#===============================================================================&lt;/span&gt;

IFS&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;$&amp;#39;\n&amp;#39;&lt;/span&gt;;
count&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;1;
countDir&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;1;
specialCharacter&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;pages&amp;#39;&lt;/span&gt;;
generateChapter&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# @Description : 对不同文件进行不同处理&lt;/span&gt;
                  &lt;span style=&#34;color:#75715e&#34;&gt;# @usage       : generatechapter&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
    &lt;span style=&#34;color:#75715e&#34;&gt;# 妙用find 得到当前目录的相对路径 不需要不断的进入目录&lt;/span&gt;
    &lt;span style=&#34;color:#75715e&#34;&gt;#for var2 in `find . -name &amp;#34;*&amp;#34;`&lt;/span&gt;
    &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; var2 in &lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;find . -name &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;windEnergy201*&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;
    &lt;span style=&#34;color:#66d9ef&#34;&gt;do&lt;/span&gt;
        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt; -d  $var2 &lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# &amp;lt; cannot . Error&lt;/span&gt;
        &lt;span style=&#34;color:#66d9ef&#34;&gt;then&lt;/span&gt;
                cd $var2;
                &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; var in &lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;find . -name &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;*&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;;&lt;span style=&#34;color:#66d9ef&#34;&gt;do&lt;/span&gt; echo $var|awk &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/pages/{printf(&amp;#34;%s,%s&amp;#34;,$0,substr($0,0,length($0)-22)&amp;#34;.pdf&amp;#34;)|&amp;#34;xargs -d, mv &amp;#34;;}&amp;#39;&lt;/span&gt;;&lt;span style=&#34;color:#66d9ef&#34;&gt;done&lt;/span&gt; 
                cd ..;
        &lt;span style=&#34;color:#66d9ef&#34;&gt;fi&lt;/span&gt;

    &lt;span style=&#34;color:#66d9ef&#34;&gt;done&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;

generateChapter

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;注意可以使用 ，学到技巧1中的检测工具，查看你的修改是否完全正确，如果出现文件名中有逗号的情况，通常pages没有删掉，原因是xargs也是按照，号进行分割，所以改进方法是使用分号输出&lt;/p&gt;
&lt;p&gt;改进代码&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; var in &lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;find . -name &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;*&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;;&lt;span style=&#34;color:#66d9ef&#34;&gt;do&lt;/span&gt; echo $var|awk &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/pages/{printf(&amp;#34;%s;%s&amp;#34;,$0,substr($0,0,length($0)-22)&amp;#34;.pdf&amp;#34;)|&amp;#34;xargs -d; mv &amp;#34;;}&amp;#39;&lt;/span&gt;;&lt;span style=&#34;color:#66d9ef&#34;&gt;done&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;heading-1&#34;&gt;最终结果&lt;/h1&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-org&#34; data-lang=&#34;org&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;= 1. [ ] [[local:F:/ScienceBase.Attachments/WindEnergy/harmonic power system]] =&lt;/span&gt;
  &lt;span style=&#34;color:#66d9ef&#34;&gt;1.&lt;/span&gt; [ ] [[&lt;span style=&#34;color:#a6e22e&#34;&gt;local:F:/ScienceBase.Attachments/WindEnergy/harmonic power system/ch1.pdf&lt;/span&gt;]]
  &lt;span style=&#34;color:#66d9ef&#34;&gt;2.&lt;/span&gt; [ ] [[&lt;span style=&#34;color:#a6e22e&#34;&gt;local:F:/ScienceBase.Attachments/WindEnergy/harmonic power system/ch10.pdf&lt;/span&gt;]]
  &lt;span style=&#34;color:#66d9ef&#34;&gt;3.&lt;/span&gt; [ ] [[&lt;span style=&#34;color:#a6e22e&#34;&gt;local:F:/ScienceBase.Attachments/WindEnergy/harmonic power system/ch11.pdf&lt;/span&gt;]]
  &lt;span style=&#34;color:#66d9ef&#34;&gt;4.&lt;/span&gt; [ ] [[&lt;span style=&#34;color:#a6e22e&#34;&gt;local:F:/ScienceBase.Attachments/WindEnergy/harmonic power system/ch12.pdf&lt;/span&gt;]]
  &lt;span style=&#34;color:#66d9ef&#34;&gt;5.&lt;/span&gt; [ ] [[&lt;span style=&#34;color:#a6e22e&#34;&gt;local:F:/ScienceBase.Attachments/WindEnergy/harmonic power system/ch13.pdf&lt;/span&gt;]]
  &lt;span style=&#34;color:#66d9ef&#34;&gt;6.&lt;/span&gt; [ ] [[&lt;span style=&#34;color:#a6e22e&#34;&gt;local:F:/ScienceBase.Attachments/WindEnergy/harmonic power system/ch14.pdf&lt;/span&gt;]]
  &lt;span style=&#34;color:#66d9ef&#34;&gt;7.&lt;/span&gt; [ ] [[&lt;span style=&#34;color:#a6e22e&#34;&gt;local:F:/ScienceBase.Attachments/WindEnergy/harmonic power system/ch15.pdf&lt;/span&gt;]]
  &lt;span style=&#34;color:#66d9ef&#34;&gt;8.&lt;/span&gt; [ ] [[&lt;span style=&#34;color:#a6e22e&#34;&gt;local:F:/ScienceBase.Attachments/WindEnergy/harmonic power system/ch16.pdf&lt;/span&gt;]]
  &lt;span style=&#34;color:#66d9ef&#34;&gt;9.&lt;/span&gt; [ ] [[&lt;span style=&#34;color:#a6e22e&#34;&gt;local:F:/ScienceBase.Attachments/WindEnergy/harmonic power system/ch2.pdf&lt;/span&gt;]]
  &lt;span style=&#34;color:#66d9ef&#34;&gt;10.&lt;/span&gt; [ ] [[&lt;span style=&#34;color:#a6e22e&#34;&gt;local:F:/ScienceBase.Attachments/WindEnergy/harmonic power system/ch3.pdf&lt;/span&gt;]]
  &lt;span style=&#34;color:#66d9ef&#34;&gt;11.&lt;/span&gt; [ ] [[&lt;span style=&#34;color:#a6e22e&#34;&gt;local:F:/ScienceBase.Attachments/WindEnergy/harmonic power system/ch4.pdf&lt;/span&gt;]]
  &lt;span style=&#34;color:#66d9ef&#34;&gt;12.&lt;/span&gt; [ ] [[&lt;span style=&#34;color:#a6e22e&#34;&gt;local:F:/ScienceBase.Attachments/WindEnergy/harmonic power system/ch5.pdf&lt;/span&gt;]]
  &lt;span style=&#34;color:#66d9ef&#34;&gt;13.&lt;/span&gt; [ ] [[&lt;span style=&#34;color:#a6e22e&#34;&gt;local:F:/ScienceBase.Attachments/WindEnergy/harmonic power system/ch6.pdf&lt;/span&gt;]]
  &lt;span style=&#34;color:#66d9ef&#34;&gt;14.&lt;/span&gt; [ ] [[&lt;span style=&#34;color:#a6e22e&#34;&gt;local:F:/ScienceBase.Attachments/WindEnergy/harmonic power system/ch7.pdf&lt;/span&gt;]]
  &lt;span style=&#34;color:#66d9ef&#34;&gt;15.&lt;/span&gt; [ ] [[&lt;span style=&#34;color:#a6e22e&#34;&gt;local:F:/ScienceBase.Attachments/WindEnergy/harmonic power system/ch8.pdf&lt;/span&gt;]]
  &lt;span style=&#34;color:#66d9ef&#34;&gt;16.&lt;/span&gt; [ ] [[&lt;span style=&#34;color:#a6e22e&#34;&gt;local:F:/ScienceBase.Attachments/WindEnergy/harmonic power system/ch9.pdf&lt;/span&gt;]]
  &lt;span style=&#34;color:#66d9ef&#34;&gt;17.&lt;/span&gt; [ ] [[&lt;span style=&#34;color:#a6e22e&#34;&gt;local:F:/ScienceBase.Attachments/WindEnergy/harmonic power system/fmatter.pdf&lt;/span&gt;]]
  &lt;span style=&#34;color:#66d9ef&#34;&gt;18.&lt;/span&gt; [ ] [[&lt;span style=&#34;color:#a6e22e&#34;&gt;local:F:/ScienceBase.Attachments/WindEnergy/harmonic power system/index.pdf&lt;/span&gt;]]
  &lt;span style=&#34;color:#66d9ef&#34;&gt;19.&lt;/span&gt; [ ] [[&lt;span style=&#34;color:#a6e22e&#34;&gt;local:F:/ScienceBase.Attachments/WindEnergy/harmonic power system/scard.pdf&lt;/span&gt;]]
&lt;span style=&#34;color:#a6e22e&#34;&gt;= 2. [ ] [[local:F:/ScienceBase.Attachments/WindEnergy/Offshore Wind Energy Generation Control, Protection, and Integration to Electrical Systems/offshoreWindEnergy]] =&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;#学到的技巧&lt;/p&gt;
&lt;p&gt;awk两种表示判断,if判断得用分号 &lt;a href=&#34;http://blog.csdn.net/qq_31382921/article/details/55094907&#34;&gt; 如果不用分号隔开会报错 &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;注意分号！！&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-awk&#34; data-lang=&#34;awk&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;awk&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;{if ($1==1) print &amp;#34;A&amp;#34;; else if ($1==2) print &amp;#34;B&amp;#34;; else print &amp;#34;C&amp;#34;}&amp;#39;&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;对应的bash使用的是if,then,else,fi的形式，且不用分号间隔语句&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;
 &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; var in &lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;find . -name &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;*&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;
    &lt;span style=&#34;color:#66d9ef&#34;&gt;do&lt;/span&gt;
        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt; -d  $var &lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# &amp;lt; cannot . Error&lt;/span&gt;
        &lt;span style=&#34;color:#66d9ef&#34;&gt;then&lt;/span&gt;
            printf &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;$var&lt;span style=&#34;color:#e6db74&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# 使用#号来删除之前的点号&lt;/span&gt;
        &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;
            printf &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;\t&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;${&lt;/span&gt;var&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# 这边需要去除到第一个点号,这是才得到的处理方法&lt;/span&gt;
        &lt;span style=&#34;color:#66d9ef&#34;&gt;fi&lt;/span&gt;

    &lt;span style=&#34;color:#66d9ef&#34;&gt;done&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;awk的’/page/{}‘等效于’if($0~/dfd/){}’
下面的命令，也是一种检查上述程序正确与否的一种工具,可以看出哪些pdf文件依然有pages的字段&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;YeZhao@DESKTOP-YeZhao /cygdrive/f/ScienceBase.Attachments/WindEnergy
$ find . -name &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;*&amp;#34;&lt;/span&gt;|awk &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;{if($0~/pages/){print $0}}&amp;#39;&lt;/span&gt;
./windEnergy2009-i6/Characterizing future large, rapid changes in aggregated wind power using Numerical Weather Prediction spatial fields &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;pages 542–555&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;.pdf
./windEnergy2012-i1/Modeling wake effects in large wind farms in complex terrain the problem, the methods and the issues &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;pages 161–182&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;.pdf
./windEnergy2012-i2/The Betz–Joukowsky limit on the contribution to rotor aerodynamics by the British, German and Russian scientific schools &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;pages 335–344&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;.pdf
./windEnergy2012-i3/Computational fluid dynamics simulation of the aerodynamics of a high solidity, small-scale vertical axis wind turbine &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;pages 349–361&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;.pdf
./windEnergy2012-i3/Correction factors &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; NRG &lt;span style=&#34;color:#75715e&#34;&gt;#40 anemometers potentially affected by dry friction whip characterization, analysis, and validation (pages 489–502).pdf&lt;/span&gt;
./windEnergy2012-i4/Analysis of wake measurements from the ECN Wind Turbine Test Site Wieringermeer, EWTW &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;pages 575–591&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;.pdf
./windEnergy2012-i5/Atmospheric stability and turbulence fluxes at Horns Rev—an intercomparison of sonic, bulk and WRF model data &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;pages 717–731&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;.pdf
./windEnergy2013-11/Modeling, simulation and control of a wind turbine with a hydraulic transmission system &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;pages 1259–1276&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;.pdf
./windEnergy2013-8/Indicial lift response &lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt; an empirical relation &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; finite-thickness airfoils, and effects on aeroelastic simulations &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;pages 681–693&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;.pdf
./windEnergy2013-8/Simulating the dynamics of wind turbine blades part I, model development and verification &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;pages 694–710&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;.pdf
./windEnergy2013-8/Simulating the dynamics of wind turbine blades part鈥塈I, model validation and uncertainty quantification &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;pages 741–758&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;.pdf
..l
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;#2. awk的&lt;a href=&#34;http://blog.csdn.net/panpan639944806/article/details/19932543&#34;&gt; BEGIN &lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-awk&#34; data-lang=&#34;awk&#34;&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;name&lt;/span&gt;()
{}

BEGIN{
}
{
    
}
END{

}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;3-awk--gsub-3&#34;&gt;3. awk &lt;a href=&#34;http://blog.sina.com.cn/s/blog_67e34ceb0100ybvg.html&#34;&gt; gsub &lt;/a&gt;&lt;/h1&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-awk&#34; data-lang=&#34;awk&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;a b c 2011-11-22 a:d&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;awk&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;gsub(/-/,&amp;#34;&amp;#34;,$4)&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;#4. awk变量定义&lt;/p&gt;
&lt;p&gt;BEGIN中&lt;a href=&#34;http://blog.csdn.net/shangboerds/article/details/49449291&#34;&gt; 定义1 &lt;/a&gt; , &lt;a href=&#34;http://jingyan.baidu.com/article/d45ad148fb46f269552b80cf.html&#34;&gt; awk -v单行 &lt;/a&gt;定义变量&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.linuxidc.com/Linux/2015-04/115781.htm&#34;&gt; awk内置变量 &lt;/a&gt;, 包括FS,OFS,NR,NFR,NF,$0,$1,$2,ARGC,ARGV1等。&lt;/p&gt;
&lt;p&gt;#5.awk定义函数&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://bbs.chinaunix.net/thread-1424218-1-1.html&#34;&gt; awk的函数定义 &lt;/a&gt;是在BEGIN{},{},END{}之外的，和他们平级的关系&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-awk&#34; data-lang=&#34;awk&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#!/usr/bin/awk -f&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;#===============================================================================&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;#&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;#          File:  func.awk&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;#   Description:  awk -f func.awk file&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;#           file内容为400&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;#   VIM Version:  7.0+&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;#        Author:  Ye Zhao Liang (Vimer), zhaoturkkey@163.com&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;#  Organization:  BrokenSun&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;#       Version:  1.0&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;#       Created:  2017/7/5 16:06:33&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;#      Revision:  ---&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;#       License:  Copyright (c) 2017, Ye Zhao Liang&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;#===============================================================================&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# &lt;/span&gt;
&lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;()
{
&lt;span style=&#34;color:#66d9ef&#34;&gt;print&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;b.in.$1=&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;;
}
{
&lt;span style=&#34;color:#a6e22e&#34;&gt;v&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt;; &lt;span style=&#34;color:#a6e22e&#34;&gt;y&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;200&lt;/span&gt;
&lt;span style=&#34;color:#66d9ef&#34;&gt;print&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;a.in.v=&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;v&lt;/span&gt;;
&lt;span style=&#34;color:#66d9ef&#34;&gt;print&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;a.in.y=&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;y&lt;/span&gt;;

&lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;y&lt;/span&gt;);
&lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;();
&lt;span style=&#34;color:#66d9ef&#34;&gt;print&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;a.out.v=&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;v&lt;/span&gt;;
&lt;span style=&#34;color:#66d9ef&#34;&gt;print&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;a.out.y=&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;y&lt;/span&gt;;
}


&lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;y&lt;/span&gt;)
{
&lt;span style=&#34;color:#66d9ef&#34;&gt;print&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;(a)v=&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;v&lt;/span&gt;;
&lt;span style=&#34;color:#a6e22e&#34;&gt;v&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;v&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;y&lt;/span&gt;;
&lt;span style=&#34;color:#a6e22e&#34;&gt;y&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;300&lt;/span&gt;;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;6bash&#34;&gt;6.bash四种变量截取&lt;/h1&gt;
&lt;pre&gt;&lt;code&gt;${var#.*} 从左到右，满足#之后条件的最小长度
${var##.*} 从左到右，满足##之后条件的最大长度
${var%.*} 从右到左，满足%之后条件的最小长度
${var%%.*} 从右到左，满足%%之后条件的最小长度
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;在awk中可以使用substr($1,0,length($1)–..)实现类似的功能。&lt;/p&gt;
&lt;p&gt;#7.bash中的包含关系&lt;/p&gt;
&lt;p&gt;包含： 即一个大的部分包含小的部分（member) 等价： 即两个东西等价(equal) 比较：一般是两个数，另外也可以是字符串。&lt;/p&gt;
&lt;p&gt;bash几种&lt;a href=&#34;http://www.cnblogs.com/ginsonwang/p/5525340.html&#34;&gt; 包含关系用法  &lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;strA&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;helloworld&amp;#34;&lt;/span&gt;
strB&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;low&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt; $strA &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;~ $strB &lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;
&lt;span style=&#34;color:#66d9ef&#34;&gt;then&lt;/span&gt;
    echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;包含&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;
    echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;不包含&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#66d9ef&#34;&gt;fi&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;#8.awk去除左右空格&lt;/p&gt;
&lt;p&gt;第5个知识点阐述了函数的定义方式,现在来运用一下， awk&lt;a href=&#34;http://www.cnblogs.com/ginsonwang/p/5525340.html&#34;&gt; 去除左右空格 &lt;/a&gt;，再一次使用中发现所有的文件名后缀中多了一个空格，于是尝试消掉空格，想着用awk实现。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-awk&#34; data-lang=&#34;awk&#34;&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ltrim&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt;) { &lt;span style=&#34;color:#66d9ef&#34;&gt;sub&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;/^[ \t\r\n]+/&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt;); &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt; }
&lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rtrim&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt;) { &lt;span style=&#34;color:#66d9ef&#34;&gt;sub&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;/[ \t\r\n]+$/&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt;); &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt; }
&lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;trim&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt;) { &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rtrim&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;ltrim&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;s&lt;/span&gt;)); }
BEGIN{
        FS&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;,&amp;#34;&lt;/span&gt;
}

{
        &lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rtrim&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;);
        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-&amp;#34;&lt;/span&gt;)
                &lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt;[&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;;
        {
        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;-&amp;#34;&lt;/span&gt;)
                &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;[&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;;
        &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;
                &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;[&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;++&lt;/span&gt;;
        }
}

END{
        &lt;span style=&#34;color:#66d9ef&#34;&gt;print&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;   client    incr_num_day&amp;#34;&lt;/span&gt;;
        &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%10s   %d\n&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;,&lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;i&lt;/span&gt;])
        &lt;span style=&#34;color:#66d9ef&#34;&gt;print&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;\n\n   client    all_num&amp;#34;&lt;/span&gt;;                                                                                                                                                     
        &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;j&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;%10s   %d\n&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#a6e22e&#34;&gt;j&lt;/span&gt;,&lt;span style=&#34;color:#a6e22e&#34;&gt;b&lt;/span&gt;[&lt;span style=&#34;color:#a6e22e&#34;&gt;j&lt;/span&gt;]);
}

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;#9.awk调用系统命令&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://blog.csdn.net/cy_cai/article/details/41908921&#34;&gt; MEthod &lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ready:
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;touch c.txt
touch d.txt&lt;/p&gt;
&lt;p&gt;II. a.txt:&lt;/p&gt;
&lt;p&gt;c.txt
d.txt&lt;/p&gt;
&lt;p&gt;III. code:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-awk&#34; data-lang=&#34;awk&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;awk&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;{cmd=&amp;#34;rm &amp;#34;$0;system(cmd)}&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;a&lt;/span&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;txt&lt;/span&gt;   
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;10awk&#34;&gt;10.awk重定向和管道&lt;/h1&gt;
&lt;p&gt;有时候直接可以在awk使用管道，提供给shell,比如print|Sort,&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-awk&#34; data-lang=&#34;awk&#34;&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;awk&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;{print $1, $2 | &amp;#34;sort&amp;#34; }&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;#11.windows下的cygwin使用脚本&lt;/p&gt;
&lt;p&gt;必须得使用&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;dos2unix.exe *脚本名字
dos2unix.exe a.sh
dos2unix.exe func.awk


&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这样执行shell才有效。&lt;/p&gt;
&lt;h1 id=&#34;12awkshell&#34;&gt;12.awk性能比shell更高&lt;/h1&gt;
&lt;p&gt;参考&lt;a href=&#34;http://www.cnblogs.com/chengmo/archive/2010/10/04/1842073.html&#34;&gt; 链接 &lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;
性能比较

&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;chengmo@localhost nginx&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# time (awk &amp;#39;BEGIN{ total=0;for(i=0;i&amp;lt;=10000;i++){total+=i;}print total;}&amp;#39;)&lt;/span&gt;
&lt;span style=&#34;color:#ae81ff&#34;&gt;50005000&lt;/span&gt;

real    0m0.003s
user    0m0.003s
sys     0m0.000s
&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;chengmo@localhost nginx&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# time(total=0;for i in $(seq 10000);do total=$(($total+i));done;echo $total;)&lt;/span&gt;
&lt;span style=&#34;color:#ae81ff&#34;&gt;50005000&lt;/span&gt;

real    0m0.141s
user    0m0.125s
sys     0m0.008s 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;结论：在awk中执行算术运算，比在bash中执行更好一些。&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>See From NoteExpress</title>
      <link>https://jueqingsizhe66.github.io/blog/2017/05/18/see-from-noteexpress/</link>
      <pubDate>Thu, 18 May 2017 17:14:28 +0800</pubDate>
      <guid>https://jueqingsizhe66.github.io/blog/2017/05/18/see-from-noteexpress/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://www.inoteexpress.com/aegean/&#34;&gt; NoteExpress &lt;/a&gt; 是一个文档管理软件，用于管理参考文件，可以方便的word等进行关联插入相关参考文献。 然而他有一个样式编辑器,很普通，却是让我有点触动。&lt;/p&gt;
&lt;h1 id=&#34;heading&#34;&gt;三个定义&lt;/h1&gt;
&lt;pre&gt;&lt;code&gt;过滤系统：让你的程序获得合适的数据，在运算系统之前.[struts的拦截器];你需要进行过滤，才能得到满足运算需要的数据
运算系统：合适的数据进行算法运算，矩阵运算等
样式系统: 运算完的数据进行输出,很多美化的工作。
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;linux的ls可以有很多选项，可以让你的结果不一样，这个选项的效果其实跟样式系统的效果是一致的，都是你对 现实的输出不满意，于是修改，使得你的输出更加perfect&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;
ls 
ls -ls 
ls -lsh  &lt;span style=&#34;color:#75715e&#34;&gt;# 显示文件大小按照人类比较好识别的方式&lt;/span&gt;
ls -lsha &lt;span style=&#34;color:#75715e&#34;&gt;# 显示隐藏文件&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;a href=&#34;http://www.cnblogs.com/ggjucheng/archive/2013/01/13/2858470.html&#34;&gt; awk &lt;/a&gt; 是linux重要的过滤工具，他就好象是一个鱼网过滤器一样，按照孔的形状过滤字段, 也叫做字段级别过滤器。  &lt;a href=&#34;http://www.iteye.com/topic/587673&#34;&gt; sed &lt;/a&gt; 是一个行修改工具，行级别过滤器,  有&lt;a href=&#34;http://blog.csdn.net/itsenlin/article/details/21129405&#34;&gt; 几种典型的模式 &lt;/a&gt; s,p,d,x,g,h etc&lt;/p&gt;
&lt;p&gt;但就是这么简单的几个系统，却是组成了很多业务系统的实现过程的定义，你可以很容易把它替换成为你当前正在处理的阶段，see here to there.&lt;/p&gt;
&lt;h1 id=&#34;one-sentence&#34;&gt;One Sentence&lt;/h1&gt;
&lt;p&gt;每个人都应该有自己的样式系统，this is your style, nobody can change you! Different Style System makes you different. 人应该有点脾气.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
