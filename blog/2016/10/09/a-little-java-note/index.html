<!DOCTYPE html>
<html lang="en-us">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.5.0">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Ye Zhaoliang">

  
  
  
    
  
  <meta name="description" content="

1. 基础部分
2. 通过构造函数，构造出Natural recursion
3. 重新设计RemAV RemFishV RemIntV
4. 下一步把PieD的字段放入到对应的参数当中
5. 引入 this 关键字，指代访问者本身，同步修改对应的访问者类
6. 需要进一步提取出visitor部分的函数	
7. 统一bTreeVisitorI itreevisitori ttreevisitori
8. 重新设计RemAV RemFishV  RemIntV 为RemV(用Object替换）	
9. 然后现在把Remv 和Subst重新放入PieD
10. 紧接着 我们还想着把Remv  SubstV放入参数的位置
11. 紧接着我们可以进行下一步抽象	
12. 紧接着我们发现rem和subst代码类似	
13. 然后再实现Set集合类型
14. SetEvalV直接继承IntEvalV不合理?	
15. IntEvalD 和SetEvalD很多相似之处	
16. 根据extends使用Override增加函数的丰富性	

视角没想到可以分成不同的classes，并在此基础上进行extends和implement，最终new通过constructors创造不同的value。两级在于基础元件和功能元件两部分。两级也可以分为extends和implements。集于一个class。">

  
  <link rel="alternate" hreflang="en-us" href="https://jueqingsizhe66.github.io/blog/2016/10/09/a-little-java-note/">

  


  
  
  
  <meta name="theme-color" content="#2962ff">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/solarized-dark.min.css" crossorigin="anonymous" title="hl-light">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/solarized-dark.min.css" crossorigin="anonymous" title="hl-dark" disabled>
      
    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.2.0/leaflet.css" integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ==" crossorigin="anonymous">
    

    

  

  
  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap">
  

  
  
  
  <link rel="stylesheet" href="/css/academic.min.e8d4d5fd376e67b34452ebe1cae16341.css">

  

  




  


  

  <link rel="manifest" href="/index.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon-32.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="https://jueqingsizhe66.github.io/blog/2016/10/09/a-little-java-note/">

  
  
  
  
    
    
  
  
  <meta property="twitter:card" content="summary">
  
  <meta property="twitter:site" content="@jueqingsizhe66">
  <meta property="twitter:creator" content="@jueqingsizhe66">
  
  <meta property="og:site_name" content="简约派">
  <meta property="og:url" content="https://jueqingsizhe66.github.io/blog/2016/10/09/a-little-java-note/">
  <meta property="og:title" content="a little java note | 简约派">
  <meta property="og:description" content="

1. 基础部分
2. 通过构造函数，构造出Natural recursion
3. 重新设计RemAV RemFishV RemIntV
4. 下一步把PieD的字段放入到对应的参数当中
5. 引入 this 关键字，指代访问者本身，同步修改对应的访问者类
6. 需要进一步提取出visitor部分的函数	
7. 统一bTreeVisitorI itreevisitori ttreevisitori
8. 重新设计RemAV RemFishV  RemIntV 为RemV(用Object替换）	
9. 然后现在把Remv 和Subst重新放入PieD
10. 紧接着 我们还想着把Remv  SubstV放入参数的位置
11. 紧接着我们可以进行下一步抽象	
12. 紧接着我们发现rem和subst代码类似	
13. 然后再实现Set集合类型
14. SetEvalV直接继承IntEvalV不合理?	
15. IntEvalD 和SetEvalD很多相似之处	
16. 根据extends使用Override增加函数的丰富性	

视角没想到可以分成不同的classes，并在此基础上进行extends和implement，最终new通过constructors创造不同的value。两级在于基础元件和功能元件两部分。两级也可以分为extends和implements。集于一个class。"><meta property="og:image" content="https://jueqingsizhe66.github.io/img/icon-192.png">
  <meta property="twitter:image" content="https://jueqingsizhe66.github.io/img/icon-192.png"><meta property="og:locale" content="en-us">
  
    
      <meta property="article:published_time" content="2016-10-09T01:58:39&#43;08:00">
    
    <meta property="article:modified_time" content="2016-10-09T01:58:39&#43;08:00">
  

  



  


  


  





  <title>a little java note | 简约派</title>

</head>

<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  
<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0 compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/">简约派</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav ml-auto">
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#hero"><span>概要</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#posts"><span>博文</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#projects"><span>项目</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#featured"><span>Publications</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/about/"><span>About</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/courses/"><span>课程</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/categories/"><span>分类</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/archives"><span>归档</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#tags"><span>标签</span></a>
        </li>

        
        

      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>


  <article class="article">

  








  
 <script async src="//cdn.busuanzi.ibruce.info/cdn/busuanzi/2.3/busuanzi.pure.mini.js"></script> 
 <script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script> 
 <script> 
     $(document).ready(function() { 
         var int = setInterval(fixCount, 100); 
         var busuanziSiteOffset =  100000  
         function fixCount() { 
             if ($("#busuanzi_container_site_pv").css("display") != "none") { 
                 clearInterval(int); 
                 $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + busuanziSiteOffset); 
             } 
         } 
     }); 
 </script> 
  






  

  
  
  
<div class="article-container pt-3">
  <h1>a little java note</h1>

  

  
    


<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    Oct 9, 2016
  </span>

  

  

  

  
  
  

  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder mr-1"></i><a href="/categories/programme/">programme</a></span>

  
</div>

    














  
</div>





<span class="article-metadata" >Reading time: 19 minutes and    56 seconds with 4388 words. 本文总阅读量<span id="busuanzi_value_page_pv"></span>次 </span>
    <aside>
        <nav id="TableOfContents"></nav>
    </aside>
  <div class="article-container">


    <div class="article-style">
      <!-- raw HTML omitted -->
<ul>
<li><a href="#1">1. 基础部分</a></li>
<li><a href="#2">2. 通过构造函数，构造出Natural recursion</a></li>
<li><a href="#3">3. 重新设计RemAV RemFishV RemIntV</a></li>
<li><a href="#4">4. 下一步把PieD的字段放入到对应的参数当中</a></li>
<li><a href="#5">5. 引入 this 关键字，指代访问者本身，同步修改对应的访问者类</a></li>
<li><a href="#6">6. 需要进一步提取出visitor部分的函数	</a></li>
<li><a href="#7">7. 统一bTreeVisitorI itreevisitori ttreevisitori</a></li>
<li><a href="#8">8. 重新设计RemAV RemFishV  RemIntV 为RemV(用Object替换）	</a></li>
<li><a href="#9">9. 然后现在把Remv 和Subst重新放入PieD</a></li>
<li><a href="#10">10. 紧接着 我们还想着把Remv  SubstV放入参数的位置</a></li>
<li><a href="#11">11. 紧接着我们可以进行下一步抽象	</a></li>
<li><a href="#12">12. 紧接着我们发现rem和subst代码类似	</a></li>
<li><a href="#13">13. 然后再实现Set集合类型</a></li>
<li><a href="#14">14. SetEvalV直接继承IntEvalV不合理?	</a></li>
<li><a href="#15">15. IntEvalD 和SetEvalD很多相似之处	</a></li>
<li><a href="#16">16. 根据extends使用Override增加函数的丰富性	</a></li>
</ul>
<p>视角没想到可以分成不同的classes，并在此基础上进行extends和implement，最终new通过constructors创造不同的value。两级在于基础元件和功能元件两部分。两级也可以分为extends和implements。集于一个class。</p>
<p>学完<a href="http://www.ccs.neu.edu/home/matthias/BALJ/">《a little java》</a>的心得,</p>
<ol>
<li>构造函数：new通过构造函数，产生了datatype的值；构造函数由此进行了natural recursion， 并通过一个基类退出循环（详见PieD).new create values.</li>
<li>This,一般指向当前对象，但是在函数式编程中，this可能指代的是当前对象之后的所有剩余对象
&ldquo;this&quot;指代的是自指对象 也就是函数某某的实例化对象，并且是一直不变的。Just self-referential，because this is a RemV, and it is exactly what we need to complete the job. 所以this指代函数莫某的对象</li>
<li>Top某某函数询问某种来自函数某某的forTop功能 ，并传递构造函数的fields值(properties）以及该某某函数comsumes的objects（arguments)</li>
<li>升级版本 the method accepts a visitor(该visitor接口包含了forTop forBot抽象方法，该接口统一了不同的函数某某，所以所有函数某某统称为accept函数某某）and ask for its services， so we call it accept， 而该接口的通常实例化对象也被叫做ask， ask for services.</li>
<li>Object类型可以抽象int boolean 其他类型</li>
<li>函数的抽象大体表现为参数数据类型，返回值数据类型和函数body的具体实现。
a.	参数数据类型
b.	返回值数据类型
c.	body具体实现</li>
<li>简化（简洁）、拓展性、方便</li>
<li>当我们的参数值从method变到fields，我们就没必要在反复调用对象的方法的时候 需要不断地comsume，而同时又保证了this对象，也就是不断地自指（期间不产生新的fields）所以也就是使得计算加快了。这也是this存在的原因（并且该this对象只用在访问者对象中）</li>
<li>We know that a visitorI contains one method each for the Circle, Square, and Trans variants,. And each of these methods
Consumes the fields of the respective kinds of objects(objects of types)
某某对象的某某函数，（携带函数某某和字段） 询问函数某某的for对象某某功能，（携带对象某某）
某某对象的accept携带ask并内部由 ask 的for对象某某携带对象某某组成，而for对象某某携带对象某某并内部由对象某某的accept携带当前ask对象构成。
某某对象的accept携带ask并内部由 ask 的for对象某某组成，而for对象某某携带对象某某并内部由对象某某的accept组成。</li>
</ol>
<p>在对象内部，某某对象的accept携带ask并内部由 ask 的for对象某某携带对象某某组成，而在visitor内部，for对象某某携带对象某某并内部由对象某某（也就是consumes the fields of the respective kinds of objects 占据对象类型的字段属性）的accept携带当前ask对象构成。
We don&rsquo;t specify fields in interfaces. And in 7 W hatever.
any case, we don&rsquo;t want anybody else to
see p.
This and that在对象间传递，而consume在函数间传递（Hangs over back and forth(fields 在对象间传递，而consume在函数间传递)
10.	该书包含着TLS TSS 和prolog编程的思想(因为你要理解new Top new Bot等需要有fact and rule的意识)（仔细去品尝 go to absorb) 还有就是skeleton and techniques技术
11.	Extends interface,this extension produces an interface that contains all the obligations(i.e. names of methods and what they consume and produce) of shapeVisitorI and the additional one named forUnion(所以换个角度说，one class can implement many interfaces.
12.	重载override 相同的名字带着不同的输入类型
13.	点号可以读作 from   点号之前叫做from who  点号之后叫做service
14.	解释的重点是什么？？？ 要点是什么</p>
<p><img src="/images/alittlejava/duichen.png" alt="duichen"></p>
<p>什么是思考力的三要素，讲这个问题之前我们先来了解一下什么是思考思维，首先思考是思维的一种探索活动，而在思维过程中产生的一种具有积极性和创造性的作用力这种就是思考力。据物理学理解，思考力具有三个基本要素：分别为大小、方向、作用点。思考力同样也离不开三个基本要素：分别为大小、方向、作用点。</p>
<ol>
<li>大小 ——思考力首先取决于思考者掌握的关于思考对象的知识和信息量（大小），如果没有相关的知识和信息，就不可能产生相关的思考活动。一般情况下，知识量和信息量越大，思考就越加具体、全面和完整，从而决定了思考的维度。</li>
<li>方向 ——我们这里所说的思考有别于妄想和幻想，而是一种有目的性和有计划性的思维活动，因此，这种思考需要有一定的价值导向，也就是思路——体现为目的性、方向性和一致性。漫无目的地思考难以发挥强有力的思考力，常常会把思考引进死胡同，导致思路夭折和无果而终。目的性、方向性、一致性和价值导向，决定着思考的角度和向度。</li>
<li>作用点 ——必须把思考集中在特定的对象上，并把握其中的关键点，这样的思考就会势如破竹。如果找不准思考的着力点，就会精力分散、思维紊乱、胡思乱想，出现东一榔头西一棒的现象。思考就会停留在事物的表面上浮光掠影，无法深刻认识事物的本质。思考在作用点上的集中性程度，决定着思考的强度和力度(广度和深度）。</li>
</ol>
<!-- raw HTML omitted -->
<p>理解分层。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">KebabD<span style="color:#f92672">(</span>chapter2<span style="color:#f92672">)</span> 烤肉
    <span style="color:#a6e22e">isVeggie</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    whatHolder<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        Holder 烤肉摆放工具
            Object<span style="color:#f92672">;</span>
            Holder<span style="color:#f92672">(</span>Object<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            isVeggie<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            whatHolder<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        Shallot  葱
            KebabD<span style="color:#f92672">;</span>
            Shallot<span style="color:#f92672">(</span>KebabD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            isVeggie<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            whatHolder<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
         
        Shrimp 虾
            KebabD<span style="color:#f92672">;</span>
            Shrimp <span style="color:#f92672">(</span>KebabD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            isVeggie<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            whatHolder<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
             
        Radish 萝卜
            KebabD<span style="color:#f92672">;</span>
            Radish <span style="color:#f92672">(</span>KebabD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            isVeggie<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            whatHolder<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
         
        Pepper 胡椒粉
            KebabD<span style="color:#f92672">;</span>
            Pepper <span style="color:#f92672">(</span>KebabD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            isVeggie<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            whatHolder<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
             
        Zucchini 西葫芦
            KebabD<span style="color:#f92672">;</span>
            Zucchini <span style="color:#f92672">(</span>KebabD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            isVeggie<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            whatHolder<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
         
 
RodD<span style="color:#f92672">(</span>chapter2<span style="color:#f92672">)</span> 杆  <span style="color:#a6e22e">将烤肉串起来工具</span><span style="color:#f92672">(</span>烤肉摆放方式1<span style="color:#960050;background-color:#1e0010">）</span>
    Dagger 匕首
    Sabre 军刀
    Sword 剑
     
<span style="color:#a6e22e">PlateD</span><span style="color:#f92672">(</span>chapter2<span style="color:#f92672">)</span> 盘子  <span style="color:#960050;background-color:#1e0010">（</span>烤肉摆放方式2<span style="color:#f92672">)</span>
    Gold 金盘子
    Silver
    Brass 黄铜盘子
    Copper 镀铜盘子
    Wood   木盘子
 
<span style="color:#a6e22e">PointD</span><span style="color:#f92672">(</span>chapter1<span style="color:#f92672">,</span>2<span style="color:#f92672">)</span> 点
    <span style="color:#a6e22e">distanceTo0</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">,</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span> <span style="color:#75715e">//可以把它们移入到构造函数中
</span><span style="color:#75715e"></span>    closerTo0<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        CartesianPt 笛卡尔坐标
            Int
            Int
            <span style="color:#a6e22e">CartesianPt</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">,</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            distanceTo0<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            Closeto0<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        ManhattenPt 曼哈顿坐标
            Int
            Int
            <span style="color:#a6e22e">ManhattenPt</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">,</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            distanceTo0<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            Closeto0<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
         
        圆柱坐标系
        球坐标系
 
PieD
 
 
PizzaD<span style="color:#960050;background-color:#1e0010">（</span>chapter3<span style="color:#f92672">,</span>4<span style="color:#960050;background-color:#1e0010">）</span>
    remA 去除比萨饼的凤尾鱼订料<span style="color:#960050;background-color:#1e0010">（</span>防止过咸<span style="color:#960050;background-color:#1e0010">）</span>
    topAwC<span style="color:#f92672">(</span><span style="color:#f92672">)</span> 在凤尾鱼顶料加上奶酪顶料<span style="color:#960050;background-color:#1e0010">（</span>盖住咸味<span style="color:#960050;background-color:#1e0010">）</span>
    subAbC<span style="color:#f92672">(</span><span style="color:#f92672">)</span> 将所有的凤尾鱼顶料换成奶酪顶料
        Crust 面包皮
            <span style="color:#a6e22e">remA</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            topAwC<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            subAbC<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        Cheese  奶酪
            pizzaD
            <span style="color:#a6e22e">Cheese</span><span style="color:#f92672">(</span>PizzaD<span style="color:#f92672">)</span>
            remA<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            topAwC<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            subAbC<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
         
        Olive   橄榄
            pizzaD
            <span style="color:#a6e22e">Olive</span><span style="color:#f92672">(</span>PizzaD<span style="color:#f92672">)</span>
            remA<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            topAwC<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            subAbC<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
             
        Anchovy 凤尾鱼
            pizzaD
            <span style="color:#a6e22e">Anchovy</span><span style="color:#f92672">(</span>PizzaD<span style="color:#f92672">)</span>
            remA<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            topAwC<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            subAbC<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
             
        Sausage 香肠
            pizzaD
            <span style="color:#a6e22e">Sausage</span><span style="color:#f92672">(</span>PizzaD<span style="color:#f92672">)</span>
            remA<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            topAwC<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            subAbC<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        Spinach 菠菜
            pizzaD
            <span style="color:#a6e22e">Spinach</span><span style="color:#f92672">(</span>PizzaD<span style="color:#f92672">)</span>
            remA<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            topAwC<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            subAbC<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
         
 
 
 
Shape
 
<span style="color:#a6e22e">Shish</span><span style="color:#f92672">(</span>chapter2<span style="color:#960050;background-color:#1e0010">，</span>4<span style="color:#f92672">)</span> 羊肉串
    <span style="color:#a6e22e">onlyOnions</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span> 
    isVegetarian<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        Skew 架子 烤肉叉子
        Onion 洋葱
        Lamb  羔羊肉
        Tomato 西红柿
         
 
Tree


<span style="color:#a6e22e">SeasoningD</span> <span style="color:#f92672">(</span>chapter1<span style="color:#f92672">)</span> 调味品
    <span style="color:#a6e22e">Sage</span><span style="color:#f92672">(</span>鼠尾草<span style="color:#f92672">)</span>
    Pepper
    Salt
    <span style="color:#a6e22e">Thyme</span><span style="color:#f92672">(</span>百里香<span style="color:#f92672">)</span>
 
NumD <span style="color:#f92672">(</span>chapter1<span style="color:#f92672">)</span>
    Zero
    OneMoreThan
 
LayerD
    Base
    Slice
 
FruitD

</code></pre></div><p><strong>第二条建议</strong>
When writing a function over a datatype,
place a method in each of the variants that make up the datatype.
If a field of a variant belongs to the same datatype,
the method may call the corresponding method of the field in
computing the function.（疑问子类 每继承一次父类 都得重写三个父类的抽象函数 有点费事。。 &mdash;-那么访问者模式到底是如何解决的？）
<strong>第八条建议</strong>
When extending a class, use overriding
to enrich its functionality.</p>
<p>根据以上建议， LtdSubstV 可以直接在 SubstV 类上进行继承和扩展。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Shish<span style="color:#f92672">(</span>chapter2<span style="color:#960050;background-color:#1e0010">，</span>4<span style="color:#f92672">)</span> 羊肉串
   OnlyOnionsV
   IsVegetarianV
   <span style="color:#a6e22e">onlyOnions</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span> 
   isVegetarian<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        Skew 架子 烤肉叉子
            <span style="color:#a6e22e">onlyOnions</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            isVegetarian<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        Onion 洋葱
            ShishD
            <span style="color:#a6e22e">Onion</span><span style="color:#f92672">(</span>ShishD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            onlyOnions<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            isVegetarian<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        Lamb  羔羊肉
            ShishD
            <span style="color:#a6e22e">Lamb</span><span style="color:#f92672">(</span>ShishD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            onlyOnions<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            isVegetarian<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
             
        Tomato 西红柿
            ShishD
            <span style="color:#a6e22e">Tomato</span><span style="color:#f92672">(</span>ShishD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            onlyOnions<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            isVegetarian<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>


OnlyOnionsV 
    <span style="color:#a6e22e">forSkew</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forOnion<span style="color:#f92672">(</span>ShishD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forLamb<span style="color:#f92672">(</span>ShishD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forTomato<span style="color:#f92672">(</span>ShishD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
 
isVegetatianV
    <span style="color:#a6e22e">forSkew</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forOnion<span style="color:#f92672">(</span>ShishD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forLamb<span style="color:#f92672">(</span>ShishD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forTomato<span style="color:#f92672">(</span>ShishD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
     
 
ShishD
   OnlyOionsV ooFn
   IsVegeterian ivFn
   <span style="color:#a6e22e">onlyOnions</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span>a<span style="color:#f92672">;</span>
   isVegetarian<span style="color:#f92672">(</span><span style="color:#f92672">)</span>a<span style="color:#f92672">;</span>
        Skew
            <span style="color:#a6e22e">onlyOnions</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            isVegetarian<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        Onion
            <span style="color:#a6e22e">onlyOnions</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            isVegetarian<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        Lamb
            <span style="color:#a6e22e">onlyOnions</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            isVegetarian<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        Tomato
            <span style="color:#a6e22e">onlyOnions</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            isVegetarian<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
         
 
</code></pre></div><!-- raw HTML omitted -->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">RemAV
    <span style="color:#a6e22e">forCurst</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forCheese<span style="color:#f92672">(</span>PizzaD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forOlive<span style="color:#f92672">(</span>PizzaD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forAnchovy<span style="color:#f92672">(</span>PizzaD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forSausage<span style="color:#f92672">(</span>PizzaD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>

TopAwCV
    <span style="color:#a6e22e">forCurst</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forCheese<span style="color:#f92672">(</span>PizzaD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forOlive<span style="color:#f92672">(</span>PizzaD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forAnchovy<span style="color:#f92672">(</span>PizzaD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forSausage<span style="color:#f92672">(</span>PizzaD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>

SubAbCV
    <span style="color:#a6e22e">forCurst</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forCheese<span style="color:#f92672">(</span>PizzaD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forOlive<span style="color:#f92672">(</span>PizzaD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forAnchovy<span style="color:#f92672">(</span>PizzaD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forSausage<span style="color:#f92672">(</span>PizzaD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
 
 
PizzaD 
   RemAV remFn
   TopAwCV topFn
   SubAbCV  subFn
   <span style="color:#a6e22e">remA</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span>a<span style="color:#f92672">;</span>
   topAwC<span style="color:#f92672">(</span><span style="color:#f92672">)</span>a<span style="color:#f92672">;</span>
   subAbC<span style="color:#f92672">(</span><span style="color:#f92672">)</span>a<span style="color:#f92672">;</span>
        Crust
            <span style="color:#a6e22e">remA</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            topAwC<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            subAwC<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        Cheese
            PizzaD
            <span style="color:#a6e22e">Cheese</span><span style="color:#f92672">(</span>PizzaD<span style="color:#f92672">)</span>
            remA<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            topAwC<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            subAwC<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        Olive
            PizzaD
            <span style="color:#a6e22e">Olive</span><span style="color:#f92672">(</span>PizzaD<span style="color:#f92672">)</span>
            remA<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            topAwC<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            subAwC<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        Anchovy
            PizzaD
            <span style="color:#a6e22e">Anchovy</span><span style="color:#f92672">(</span>PizzaD<span style="color:#f92672">)</span>
            remA<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            topAwC<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            subAwC<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        Sausage
            PizzaD
            <span style="color:#a6e22e">Sausage</span><span style="color:#f92672">(</span>PizzaD
            <span style="color:#a6e22e">remA</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            topAwC<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            subAwC<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>


PieD
    RemAV raFn
    RemFish rfFn
    <span style="color:#a6e22e">remA</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span>a<span style="color:#f92672">;</span>
    remFish<span style="color:#f92672">(</span>FishD<span style="color:#f92672">)</span>a<span style="color:#f92672">;</span>
        Bot
            <span style="color:#a6e22e">remA</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            remFish<span style="color:#f92672">(</span>FishD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        Top
            Object
            PieD
            <span style="color:#a6e22e">Top</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> PieD<span style="color:#f92672">)</span>
            remA<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            remFish<span style="color:#f92672">(</span>FishD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
             
FishD
    Salmon 鲑鱼
    <span style="color:#a6e22e">Equals</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    Anchovy 凤尾鱼
    <span style="color:#a6e22e">Equals</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    Tuna  金枪鱼
    <span style="color:#a6e22e">Equals</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
 
RemAV
    forBot
    <span style="color:#a6e22e">fotTop</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> PieD<span style="color:#f92672">)</span>
RemFishV
    <span style="color:#a6e22e">forBot</span><span style="color:#f92672">(</span>FishD<span style="color:#f92672">)</span>
    forTop<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> PieD<span style="color:#f92672">,</span>  FishD<span style="color:#f92672">)</span>
 
RemIntV
    <span style="color:#a6e22e">forBot</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)</span>
    forTop<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> pieD<span style="color:#f92672">,</span> Integer<span style="color:#f92672">)</span>
     
</code></pre></div><!-- raw HTML omitted -->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">RemV
    <span style="color:#a6e22e">forBot</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">)</span>
    forTop<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> pieD<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>

</code></pre></div><!-- raw HTML omitted -->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">
<span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">PieD</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">abstract</span> PieD <span style="color:#a6e22e">rem</span><span style="color:#f92672">(</span>RemV remFn<span style="color:#f92672">,</span> Object o<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    <span style="color:#66d9ef">abstract</span> PieD <span style="color:#a6e22e">subst</span><span style="color:#f92672">(</span>SubstV substFn<span style="color:#f92672">,</span> Object n<span style="color:#f92672">,</span> Object o<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
 
PieD 
    <span style="color:#a6e22e">Rem</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span>a<span style="color:#f92672">;</span>
    Subst<span style="color:#f92672">(</span><span style="color:#f92672">)</span>a<span style="color:#f92672">;</span>
        Top
            <span style="color:#a6e22e">Top</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span>Object<span style="color:#f92672">)</span>
            Rem<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            Subst<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        Bot
            <span style="color:#a6e22e">Bot</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span>Object<span style="color:#f92672">)</span>
            Rem<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            Subst<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>

</code></pre></div><!-- raw HTML omitted -->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">PieD 
    <span style="color:#a6e22e">Rem</span><span style="color:#f92672">(</span>Remv<span style="color:#f92672">)</span>a<span style="color:#f92672">;</span>
    Subst<span style="color:#f92672">(</span>Subst<span style="color:#f92672">)</span>a<span style="color:#f92672">;</span>
        Top
            Top
            Rem
            Subst
        Bot
            Bot
            Rem
            Subst

</code></pre></div><!-- raw HTML omitted -->
<p>这样就可以把所有</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">PieVisitorI 
    <span style="color:#a6e22e">forBot</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forTop<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        Remv
            <span style="color:#a6e22e">forBot</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            forTop<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        SubstV
            <span style="color:#a6e22e">forBot</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            forTop<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
     
pieD
    <span style="color:#a6e22e">Accept</span><span style="color:#f92672">(</span>PieVisitorI<span style="color:#f92672">)</span>
        Bot
            <span style="color:#a6e22e">Accept</span><span style="color:#f92672">(</span>pieVisitorI<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        Top
            <span style="color:#a6e22e">Accept</span><span style="color:#f92672">(</span>pieVisitorI<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
 
 
 
 
FruitD
    Peach
    Apple
    Pear
    Lemon
    Fig 无花果
 
TreeD
    <span style="color:#a6e22e">Accept</span><span style="color:#f92672">(</span>bTreeVisitorI<span style="color:#f92672">)</span>
    Accept<span style="color:#f92672">(</span>iTreeVisitorI<span style="color:#f92672">)</span>
    Accept<span style="color:#f92672">(</span>tTreeVisitorI<span style="color:#f92672">)</span>
        Bub 芽
            <span style="color:#a6e22e">Accept</span><span style="color:#f92672">(</span>bTreeVisitorI<span style="color:#f92672">)</span>
            Accept<span style="color:#f92672">(</span>iTreeVisitorI<span style="color:#f92672">)</span>
            Accept<span style="color:#f92672">(</span>tTreeVisitorI<span style="color:#f92672">)</span>
        Flat 平顶
            FruitD
            TreeD
            <span style="color:#a6e22e">Flat</span><span style="color:#f92672">(</span>FruitD<span style="color:#f92672">,</span> TreeD<span style="color:#f92672">)</span>
            Accept<span style="color:#f92672">(</span>bTreeVisitorI<span style="color:#f92672">)</span>
            Accept<span style="color:#f92672">(</span>iTreeVisitorI<span style="color:#f92672">)</span>
            Accept<span style="color:#f92672">(</span>tTreeVisitorI<span style="color:#f92672">)</span>
        Split 分枝
            TreeD
            TreeD
            <span style="color:#a6e22e">Split</span><span style="color:#f92672">(</span>TreeD<span style="color:#f92672">,</span> TreeD<span style="color:#f92672">)</span>
            Accept<span style="color:#f92672">(</span>bTreeVisitorI<span style="color:#f92672">)</span>
            Accept<span style="color:#f92672">(</span>iTreeVisitorI<span style="color:#f92672">)</span>
            Accept<span style="color:#f92672">(</span>tTreeVisitorI<span style="color:#f92672">)</span>
 
bTreeVisitorI
    <span style="color:#a6e22e">forBud</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forFlat<span style="color:#f92672">(</span>FruitD<span style="color:#f92672">,</span> TreeD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forSplit<span style="color:#f92672">(</span>TreeD<span style="color:#f92672">,</span> TreeD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        bIsFlatV <span style="color:#66d9ef">implements</span> bTreeVisitorI
            <span style="color:#a6e22e">forBud</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            forFlat<span style="color:#f92672">(</span>FruitD<span style="color:#f92672">,</span> TreeD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            forSplit<span style="color:#f92672">(</span>TreeD<span style="color:#f92672">,</span> TreeD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        bIsSplitV <span style="color:#66d9ef">implements</span> bTreeVisitorI
            <span style="color:#a6e22e">forBud</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            forFlat<span style="color:#f92672">(</span>FruitD<span style="color:#f92672">,</span> TreeD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            forSplit<span style="color:#f92672">(</span>TreeD<span style="color:#f92672">,</span> TreeD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        bHasFruitV <span style="color:#66d9ef">implements</span> bTreeVisitorI
            <span style="color:#a6e22e">forBud</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            forFlat<span style="color:#f92672">(</span>FruitD<span style="color:#f92672">,</span> TreeD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            forSplit<span style="color:#f92672">(</span>TreeD<span style="color:#f92672">,</span> TreeD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>

 
iTreeVisitorI
    <span style="color:#a6e22e">forBud</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forFlat<span style="color:#f92672">(</span>FruitD<span style="color:#f92672">,</span> TreeD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forSplit<span style="color:#f92672">(</span>TreeD<span style="color:#f92672">,</span> TreeD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        iHeightV <span style="color:#66d9ef">implements</span> iTreeVisitorI
            <span style="color:#a6e22e">forBud</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            forFlat<span style="color:#f92672">(</span>FruitD<span style="color:#f92672">,</span> TreeD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            forSplit<span style="color:#f92672">(</span>TreeD<span style="color:#f92672">,</span> TreeD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        iOccursV <span style="color:#66d9ef">implements</span> iTreeVisitorI
            FruitD
            <span style="color:#a6e22e">iOccursV</span><span style="color:#f92672">(</span>FruitD<span style="color:#f92672">)</span>
            forBud<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            forFlat<span style="color:#f92672">(</span>FruitD<span style="color:#f92672">,</span> TreeD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            forSplit<span style="color:#f92672">(</span>TreeD<span style="color:#f92672">,</span> TreeD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>

       
 
tTreeVisitorI
    <span style="color:#a6e22e">forBud</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forFlat<span style="color:#f92672">(</span>FruitD<span style="color:#f92672">,</span> TreeD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forSplit<span style="color:#f92672">(</span>TreeD<span style="color:#f92672">,</span> TreeD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        tSubstV <span style="color:#66d9ef">implements</span> tTreeVisitorI
            FruitD
            FruitD
            <span style="color:#a6e22e">tSubstV</span><span style="color:#f92672">(</span>FruitD<span style="color:#f92672">,</span> FruitD<span style="color:#f92672">)</span>
            forBud<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            forFlat<span style="color:#f92672">(</span>FruitD<span style="color:#f92672">,</span> TreeD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            forSplit<span style="color:#f92672">(</span>TreeD<span style="color:#f92672">,</span> TreeD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
         iOccursV <span style="color:#66d9ef">implements</span> tTreeVisitorI
            <span style="color:#a6e22e">forBud</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            forFlat<span style="color:#f92672">(</span>FruitD<span style="color:#f92672">,</span> TreeD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            forSplit<span style="color:#f92672">(</span>TreeD<span style="color:#f92672">,</span> TreeD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
  
 
</code></pre></div><!-- raw HTML omitted -->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">TreeVisitorI
    <span style="color:#a6e22e">forBud</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forFlat<span style="color:#f92672">(</span>FruitD<span style="color:#f92672">,</span> TreeD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forSplit<span style="color:#f92672">(</span>TreeD<span style="color:#f92672">,</span> TreeD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
         IsFlatV <span style="color:#66d9ef">implements</span> TreeVisitorI
            <span style="color:#a6e22e">forBud</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            forFlat<span style="color:#f92672">(</span>FruitD<span style="color:#f92672">,</span> TreeD<span style="color:#f92672">)</span>
            forSplit<span style="color:#f92672">(</span>TreeD<span style="color:#f92672">,</span> TreeD<span style="color:#f92672">)</span>
         
         
        OccursV <span style="color:#66d9ef">implements</span> TreeVisitorI
            FruitD
            <span style="color:#a6e22e">OccursV</span><span style="color:#f92672">(</span>FruitD<span style="color:#f92672">)</span>
            forBud<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            forFlat<span style="color:#f92672">(</span>FruitD<span style="color:#f92672">,</span> TreeD<span style="color:#f92672">)</span>
            forSplit<span style="color:#f92672">(</span>TreeD<span style="color:#f92672">,</span> TreeD<span style="color:#f92672">)</span>
         
         
        <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">OccursV</span> <span style="color:#66d9ef">implements</span> TreeVisitorI <span style="color:#f92672">{</span>
            FruitD a<span style="color:#f92672">;</span>
            OccursV<span style="color:#f92672">(</span>FruitD _a<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                a <span style="color:#f92672">=</span> _a<span style="color:#f92672">;</span>
            <span style="color:#f92672">}</span>
            <span style="color:#66d9ef">public</span> Object <span style="color:#a6e22e">forBud</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Integer<span style="color:#f92672">(</span>0<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            <span style="color:#f92672">}</span>
            <span style="color:#66d9ef">public</span> Object <span style="color:#a6e22e">forFlat</span><span style="color:#f92672">(</span>FruitD f<span style="color:#f92672">,</span> TreeD t<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>f<span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>a<span style="color:#f92672">)</span><span style="color:#f92672">)</span>
                    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Integer<span style="color:#f92672">(</span><span style="color:#f92672">(</span><span style="color:#f92672">(</span>Integer<span style="color:#f92672">)</span><span style="color:#f92672">(</span>t<span style="color:#f92672">.</span><span style="color:#a6e22e">accept</span><span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">)</span><span style="color:#f92672">)</span><span style="color:#f92672">)</span><span style="color:#f92672">.</span><span style="color:#a6e22e">intValue</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span> <span style="color:#f92672">+</span> 1<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
                <span style="color:#66d9ef">else</span>
                    <span style="color:#66d9ef">return</span> t<span style="color:#f92672">.</span><span style="color:#a6e22e">accept</span><span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            <span style="color:#f92672">}</span>
            <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">forSplit</span><span style="color:#f92672">(</span>TreeD l<span style="color:#f92672">,</span> TreeD r<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Integer<span style="color:#f92672">(</span><span style="color:#f92672">(</span><span style="color:#f92672">(</span>Integer<span style="color:#f92672">)</span><span style="color:#f92672">(</span>l<span style="color:#f92672">.</span><span style="color:#a6e22e">accept</span><span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">)</span><span style="color:#f92672">)</span><span style="color:#f92672">)</span><span style="color:#f92672">.</span><span style="color:#a6e22e">intValue</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span>
                                   <span style="color:#f92672">+</span>
                                   <span style="color:#f92672">(</span><span style="color:#f92672">(</span>Integer<span style="color:#f92672">)</span><span style="color:#f92672">(</span>r<span style="color:#f92672">.</span><span style="color:#a6e22e">accept</span><span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">)</span><span style="color:#f92672">)</span><span style="color:#f92672">)</span><span style="color:#f92672">.</span><span style="color:#a6e22e">intValue</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            <span style="color:#f92672">}</span>
        <span style="color:#f92672">}</span>


TreeD
    <span style="color:#a6e22e">Accept</span><span style="color:#f92672">(</span>TreeVisitorI<span style="color:#f92672">)</span>
        Bub 芽
            <span style="color:#a6e22e">Accept</span><span style="color:#f92672">(</span>TreeVisitorI<span style="color:#f92672">)</span>
        Flat 平顶
            FruitD
            TreeD
            <span style="color:#a6e22e">Flat</span><span style="color:#f92672">(</span>FruitD<span style="color:#f92672">,</span> TreeD<span style="color:#f92672">)</span>
            Accept<span style="color:#f92672">(</span>TreeVisitorI<span style="color:#f92672">)</span>
        Split 分枝
            TreeD
            TreeD
            <span style="color:#a6e22e">Split</span><span style="color:#f92672">(</span>TreeD<span style="color:#f92672">,</span> TreeD<span style="color:#f92672">)</span>
            Accept<span style="color:#f92672">(</span>tTreeVisitorI<span style="color:#f92672">)</span>
         


PieD
    RemAV raFn
    RemFish rfFn
    <span style="color:#a6e22e">remA</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span>a<span style="color:#f92672">;</span>
    remFish<span style="color:#f92672">(</span>FishD<span style="color:#f92672">)</span>a<span style="color:#f92672">;</span>
        Bot
            <span style="color:#a6e22e">remA</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            remFish<span style="color:#f92672">(</span>FishD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        Top
            Object
            PieD
            <span style="color:#a6e22e">Top</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> PieD<span style="color:#f92672">)</span>
            remA<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            remFish<span style="color:#f92672">(</span>FishD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
 
FishD
    Salmon 鲑鱼
    <span style="color:#a6e22e">Equals</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    Anchovy 凤尾鱼
    <span style="color:#a6e22e">Equals</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    Tuna  金枪鱼
    <span style="color:#a6e22e">Equals</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
 
RemAV
    forBot
    <span style="color:#a6e22e">fotTop</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> PieD<span style="color:#f92672">)</span>
RemFishV
    <span style="color:#a6e22e">forBot</span><span style="color:#f92672">(</span>FishD<span style="color:#f92672">)</span>
    forTop<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> PieD<span style="color:#f92672">,</span>  FishD<span style="color:#f92672">)</span>
     
RemIntV
    <span style="color:#a6e22e">forBot</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)</span>
    forTop<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> pieD<span style="color:#f92672">,</span> Integer<span style="color:#f92672">)</span>
     
</code></pre></div><!-- raw HTML omitted -->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">RemV
    <span style="color:#a6e22e">forBot</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">)</span>
    forTop<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> pieD<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
PieD
    RemV
    <span style="color:#a6e22e">Rem</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">)</span>
        Bot
            <span style="color:#a6e22e">Rem</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">)</span>
        Top
            Object
            PieD
            <span style="color:#a6e22e">Top</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> PieD<span style="color:#f92672">)</span>
            Rem<span style="color:#f92672">(</span>Object<span style="color:#f92672">)</span>
 
SubstFishV
    <span style="color:#a6e22e">forBot</span><span style="color:#f92672">(</span>FishD<span style="color:#f92672">,</span> FishD<span style="color:#f92672">)</span>
    forTop<span style="color:#f92672">(</span>Object <span style="color:#f92672">,</span> PieD<span style="color:#f92672">,</span> FishD<span style="color:#f92672">,</span> FishO<span style="color:#f92672">)</span>
 
SubstIntV
    <span style="color:#a6e22e">forBot</span><span style="color:#f92672">(</span>Int<span style="color:#f92672">,</span> Int<span style="color:#f92672">)</span>
    forTop<span style="color:#f92672">(</span>Object <span style="color:#f92672">,</span> PieD<span style="color:#f92672">,</span> Int<span style="color:#f92672">,</span> Int<span style="color:#f92672">)</span>
 
SubstV
    <span style="color:#a6e22e">forBot</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
    forTop<span style="color:#f92672">(</span>Object <span style="color:#f92672">,</span> PieD<span style="color:#f92672">,</span> Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
     
 
</code></pre></div><!-- raw HTML omitted -->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">PieD
    Remv
    SubstV
    <span style="color:#a6e22e">Rem</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">)</span>
    Subst<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
        Bot
            <span style="color:#a6e22e">Rem</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">)</span>
            Subst<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span>Object<span style="color:#f92672">)</span>
        Top
            Object
            PieD
            <span style="color:#a6e22e">Top</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span>PieD<span style="color:#f92672">)</span>
            Rem<span style="color:#f92672">(</span>Object<span style="color:#f92672">)</span>
            Subst<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span>Object<span style="color:#f92672">)</span>
 

</code></pre></div><!-- raw HTML omitted -->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">PieD
    <span style="color:#a6e22e">Rem</span><span style="color:#f92672">(</span>Remv<span style="color:#f92672">,</span>Object<span style="color:#f92672">)</span>
    Subst<span style="color:#f92672">(</span>SubstV<span style="color:#f92672">,</span>Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
        Bot
            <span style="color:#a6e22e">Rem</span><span style="color:#f92672">(</span>Renv<span style="color:#f92672">,</span>Object<span style="color:#f92672">)</span>
            Subst<span style="color:#f92672">(</span>Substv<span style="color:#f92672">,</span>Object<span style="color:#f92672">,</span>Object<span style="color:#f92672">)</span>
        Top
            Object
            PieD
            <span style="color:#a6e22e">Top</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span>PieD<span style="color:#f92672">)</span>
            Rem<span style="color:#f92672">(</span>RemV<span style="color:#f92672">,</span>Object<span style="color:#f92672">)</span>
            Subst<span style="color:#f92672">(</span>Substv<span style="color:#f92672">,</span>Object<span style="color:#f92672">,</span>Object<span style="color:#f92672">)</span>
</code></pre></div><!-- raw HTML omitted -->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RemV</span> <span style="color:#f92672">{</span>
    Object o<span style="color:#f92672">;</span>
    RemV<span style="color:#f92672">(</span>Object _o<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        o <span style="color:#f92672">=</span> _o<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    PieD <span style="color:#a6e22e">forBot</span><span style="color:#f92672">(</span>Object o<span style="color:#f92672">)</span><span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Bot<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    PieD <span style="color:#a6e22e">forTop</span><span style="color:#f92672">(</span>Object t<span style="color:#f92672">,</span> PieD r<span style="color:#f92672">)</span><span style="color:#f92672">{</span>
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>o<span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>t<span style="color:#f92672">)</span><span style="color:#f92672">)</span>
            <span style="color:#66d9ef">return</span> r<span style="color:#f92672">.</span><span style="color:#a6e22e">rem</span><span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        <span style="color:#66d9ef">else</span>
            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Top<span style="color:#f92672">(</span>t<span style="color:#f92672">,</span> r<span style="color:#f92672">.</span><span style="color:#a6e22e">rem</span><span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">)</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>


<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RemV</span> <span style="color:#f92672">{</span>
    PieD <span style="color:#a6e22e">forBot</span><span style="color:#f92672">(</span>Object o<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Bot<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    PieD <span style="color:#a6e22e">forTop</span><span style="color:#f92672">(</span>Object t<span style="color:#f92672">,</span> PieD r<span style="color:#f92672">,</span> Object o<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>o<span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>t<span style="color:#f92672">)</span><span style="color:#f92672">)</span>
            <span style="color:#66d9ef">return</span> r<span style="color:#f92672">.</span><span style="color:#a6e22e">rem</span><span style="color:#f92672">(</span>o<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        <span style="color:#66d9ef">else</span>
            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Top<span style="color:#f92672">(</span>t<span style="color:#f92672">,</span> r<span style="color:#f92672">.</span><span style="color:#a6e22e">rem</span><span style="color:#f92672">(</span>o<span style="color:#f92672">)</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SubstV</span> <span style="color:#f92672">{</span>
    PieD <span style="color:#a6e22e">forBot</span><span style="color:#f92672">(</span>Object n<span style="color:#f92672">,</span> Object o<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Bot<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    PieD <span style="color:#a6e22e">forTop</span> <span style="color:#f92672">(</span>Object t<span style="color:#f92672">,</span> PieD r<span style="color:#f92672">,</span> Object n<span style="color:#f92672">,</span> Object o<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>o<span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>t<span style="color:#f92672">)</span><span style="color:#f92672">)</span>
            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Top<span style="color:#f92672">(</span>n<span style="color:#f92672">,</span> r<span style="color:#f92672">.</span><span style="color:#a6e22e">subst</span><span style="color:#f92672">(</span>n<span style="color:#f92672">,</span> o<span style="color:#f92672">)</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        <span style="color:#66d9ef">else</span>
            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Top<span style="color:#f92672">(</span>t<span style="color:#f92672">,</span> r<span style="color:#f92672">.</span><span style="color:#a6e22e">subst</span><span style="color:#f92672">(</span>n<span style="color:#f92672">,</span> 0<span style="color:#f92672">)</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SubstV</span> <span style="color:#f92672">{</span>
    Object n<span style="color:#f92672">;</span>
    Object o<span style="color:#f92672">;</span>
    SubstV<span style="color:#f92672">(</span>Object _n<span style="color:#f92672">,</span> Object _o<span style="color:#f92672">)</span><span style="color:#f92672">{</span>
        n <span style="color:#f92672">=</span> _n<span style="color:#f92672">;</span>
        o <span style="color:#f92672">=</span> _o<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    PieD <span style="color:#a6e22e">forBot</span><span style="color:#f92672">(</span>Object n<span style="color:#f92672">,</span> Object o<span style="color:#f92672">)</span><span style="color:#f92672">{</span>
            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Bot<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>
    PieD <span style="color:#a6e22e">forTop</span><span style="color:#f92672">(</span>Object t<span style="color:#f92672">,</span> PieD r<span style="color:#f92672">)</span><span style="color:#f92672">{</span>
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>o<span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>t<span style="color:#f92672">)</span><span style="color:#f92672">)</span>
            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Top<span style="color:#f92672">(</span>n<span style="color:#f92672">,</span> r<span style="color:#f92672">.</span><span style="color:#a6e22e">subst</span><span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">)</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        <span style="color:#66d9ef">else</span>
            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Top<span style="color:#f92672">(</span>t<span style="color:#f92672">,</span> r<span style="color:#f92672">.</span><span style="color:#a6e22e">subst</span><span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">)</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

 
</code></pre></div><!-- raw HTML omitted -->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">PieD
    <span style="color:#a6e22e">Rem</span><span style="color:#f92672">(</span>RemV<span style="color:#f92672">)</span>
    Subst<span style="color:#f92672">(</span>SubstV<span style="color:#f92672">)</span>
        Top
            Object
            PieD
            <span style="color:#a6e22e">Top</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> PieD<span style="color:#f92672">)</span>
            Rem<span style="color:#f92672">(</span>RemV<span style="color:#f92672">)</span>
            Subst<span style="color:#f92672">(</span>SubstV<span style="color:#f92672">)</span>
        Bot
            Object
            PieD
            <span style="color:#a6e22e">Bot</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> PieD<span style="color:#f92672">)</span>
            Rem<span style="color:#f92672">(</span>RemV<span style="color:#f92672">)</span>
            Subst<span style="color:#f92672">(</span>SubstV<span style="color:#f92672">)</span>
 
 
</code></pre></div><!-- raw HTML omitted -->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">PieVisitorI
    forBot
    forTop
        RemV implement PieVisitorI
            Object
            <span style="color:#a6e22e">RemV</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">)</span>
            forBot<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            forTop<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span>PieD<span style="color:#960050;background-color:#1e0010">）</span>
        SubstV implement PieVisitorI
            Object
            Object
            <span style="color:#a6e22e">SubstV</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
            forBot<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            forTop<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span>PieD<span style="color:#960050;background-color:#1e0010">）</span>
        LtdSubstV implement PieVisitorI
            <span style="color:#66d9ef">int</span>
            Object
            Object
            <span style="color:#a6e22e">LtdSubstV</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">,</span> Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
            forBot<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            forTop<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span>PieD<span style="color:#960050;background-color:#1e0010">）</span>
         
PieD
    <span style="color:#a6e22e">Accept</span><span style="color:#f92672">(</span>PieVisitorI<span style="color:#f92672">)</span>
        Bob
            <span style="color:#a6e22e">Accept</span><span style="color:#f92672">(</span>pieVisitorI<span style="color:#f92672">)</span>
        Top
            Object
            PieD
            <span style="color:#a6e22e">Top</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span>PieD<span style="color:#f92672">)</span>
            Accept<span style="color:#f92672">(</span>PieVisitorI<span style="color:#f92672">)</span>
 


ExprVisitorI

ExprVisitorI
    <span style="color:#a6e22e">forPlus</span><span style="color:#f92672">(</span>ExprD<span style="color:#f92672">,</span> ExprD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forDiff<span style="color:#f92672">(</span>ExprD<span style="color:#f92672">,</span> ExprD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forProd<span style="color:#f92672">(</span>ExprD<span style="color:#f92672">,</span> ExprD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forConst<span style="color:#f92672">(</span>ExprD<span style="color:#f92672">,</span> ExprD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        IntEvalV <span style="color:#66d9ef">implements</span>  ExprVisitorI
            <span style="color:#a6e22e">forPlus</span><span style="color:#f92672">(</span>ExprD<span style="color:#f92672">,</span> ExprD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            forDiff<span style="color:#f92672">(</span>ExprD<span style="color:#f92672">,</span> ExprD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            forProd<span style="color:#f92672">(</span>ExprD<span style="color:#f92672">,</span> ExprD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            forConst<span style="color:#f92672">(</span>Object<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            Plus<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
            Diff<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
            Prod<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
 

ExprD
    <span style="color:#a6e22e">Accept</span><span style="color:#f92672">(</span>ExprVisitorI<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        Plus
            ExprD
            ExprD
            <span style="color:#a6e22e">Plus</span><span style="color:#f92672">(</span>ExprD<span style="color:#f92672">,</span> ExprD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            Accept<span style="color:#f92672">(</span>ExprVisitorI<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        Diff
            ExprD
            ExprD
            <span style="color:#a6e22e">Diff</span><span style="color:#f92672">(</span>ExprD<span style="color:#f92672">,</span> ExprD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            Accept<span style="color:#f92672">(</span>ExprVisitorI<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        Prod
            ExprD
            ExprD
            <span style="color:#a6e22e">Prod</span><span style="color:#f92672">(</span>ExprD<span style="color:#f92672">,</span> ExprD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            Accept<span style="color:#f92672">(</span>ExprVisitorI<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        ConstD
            Object
            <span style="color:#a6e22e">ConstD</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            Accept<span style="color:#f92672">(</span>ExprVisitorI<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
 
</code></pre></div><!-- raw HTML omitted -->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">SetD 
    <span style="color:#a6e22e">Add</span><span style="color:#f92672">(</span>integer i<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    Mem<span style="color:#f92672">(</span>integer i<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    Plus<span style="color:#f92672">(</span>SetD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    Diff<span style="color:#f92672">(</span>SetD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    Prod<span style="color:#f92672">(</span>SetD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        Empty
            <span style="color:#a6e22e">Mem</span><span style="color:#f92672">(</span>integer i<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            Plus<span style="color:#f92672">(</span>SetD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            Diff<span style="color:#f92672">(</span>SetD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            Prod<span style="color:#f92672">(</span>SetD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
         
        Add
            Integer<span style="color:#f92672">;</span>
            SetD<span style="color:#f92672">;</span>
            Add<span style="color:#f92672">(</span>Integer<span style="color:#f92672">,</span> Integer<span style="color:#f92672">)</span>
            Mem<span style="color:#f92672">(</span>integer i<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            Plus<span style="color:#f92672">(</span>SetD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            Diff<span style="color:#f92672">(</span>SetD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            Prod<span style="color:#f92672">(</span>SetD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
 
ExprVisitorI
    <span style="color:#a6e22e">forPlus</span><span style="color:#f92672">(</span>ExprD<span style="color:#f92672">,</span> ExprD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forDiff<span style="color:#f92672">(</span>ExprD<span style="color:#f92672">,</span> ExprD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forProd<span style="color:#f92672">(</span>ExprD<span style="color:#f92672">,</span> ExprD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forConst<span style="color:#f92672">(</span>ExprD<span style="color:#f92672">,</span> ExprD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        IntEvalV <span style="color:#66d9ef">implements</span>  ExprVisitorI
            <span style="color:#a6e22e">forPlus</span><span style="color:#f92672">(</span>ExprD<span style="color:#f92672">,</span> ExprD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            forDiff<span style="color:#f92672">(</span>ExprD<span style="color:#f92672">,</span> ExprD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            forProd<span style="color:#f92672">(</span>ExprD<span style="color:#f92672">,</span> ExprD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            forConst<span style="color:#f92672">(</span>Object<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            Plus<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
            Diff<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
            Prod<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
                SetEvalV <span style="color:#66d9ef">implements</span> IntEvalV
                    <span style="color:#a6e22e">Plus</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
                    Diff<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
                    Prod<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
                 
</code></pre></div><!-- raw HTML omitted -->
<p>从SetEvalV 和IntEvalV抽取出一个基类</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">EvalD <span style="color:#66d9ef">implements</span> ExprVisitorI
    <span style="color:#a6e22e">forPlus</span><span style="color:#f92672">(</span>ExprD<span style="color:#f92672">,</span> ExprD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forDiff<span style="color:#f92672">(</span>ExprD<span style="color:#f92672">,</span> ExprD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forProd<span style="color:#f92672">(</span>ExprD<span style="color:#f92672">,</span> ExprD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forConst<span style="color:#f92672">(</span>ExprD<span style="color:#f92672">,</span> ExprD<span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    Plus<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
    Diff<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
    Prod<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
        IntEvalD
            <span style="color:#a6e22e">Plus</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> 	Object<span style="color:#f92672">)</span>
            Diff<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
            Prod<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
            SetEvalD
            <span style="color:#a6e22e">Plus</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
            Diff<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
            Prod<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
         
</code></pre></div><!-- raw HTML omitted -->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">SubstD <span style="color:#66d9ef">implements</span> pieVisitorI
    Object
    Object
    <span style="color:#a6e22e">SubstD</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
    forBot<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forTop<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span>PieD<span style="color:#f92672">)</span>
SubstV
    <span style="color:#a6e22e">SubstV</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
    forTop<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
LtdSubstV
    <span style="color:#66d9ef">int</span>
    <span style="color:#a6e22e">LtdSubstV</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">,</span>Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
    forTop<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
</code></pre></div><!-- raw HTML omitted -->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">SubstV <span style="color:#66d9ef">implements</span> PieVisitorI
    Object
    Object
    <span style="color:#a6e22e">SubstV</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
    forBot<span style="color:#f92672">(</span><span style="color:#f92672">)</span>
    forTop<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> PieD<span style="color:#f92672">)</span>
 
LtdSubstV
    Int
    Object
    Object
    <span style="color:#a6e22e">LtdSubstV</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">,</span> Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
    forTop<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> PieD<span style="color:#f92672">)</span>

</code></pre></div><p>原来，抽象类可以有构造方法.抽象类只要有一个abstract函数就可以叫做抽象类
抽象类可以有构造方法，构造方法不可继承，但是可以供子类用super（）或者super（参数，参数。。。。）调用。
构造函数是对象的基本，没有构造函数就没有对象。
若果在父类中（这里就是你的抽象类）中显示的写了又参数的构造函数，在子类继承是就必须写一个构造函数来调用父类的构造函数。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">PointD
<span style="color:#a6e22e">PointD</span><span style="color:#f92672">(</span>chapter1<span style="color:#f92672">,</span>2<span style="color:#f92672">)</span> 点
    <span style="color:#a6e22e">distanceTo0</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">,</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span> <span style="color:#75715e">//可以把它们移入到构造函数中
</span><span style="color:#75715e"></span>    closerTo0<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    PointD <span style="color:#a6e22e">minus</span><span style="color:#f92672">(</span>PointD<span style="color:#f92672">)</span>
    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">moveBy</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> <span style="color:#f92672">,</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)</span>
        CartesianPt 笛卡尔坐标
            Int
            Int
            <span style="color:#a6e22e">CartesianPt</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">,</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            distanceTo0<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            Closeto0<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        ManhattenPt 曼哈顿坐标
            Int
            Int
            <span style="color:#a6e22e">ManhattenPt</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">,</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            distanceTo0<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            Closeto0<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        圆柱坐标系
        球坐标系



ShadowedCartesia 
    Int
    Int
    <span style="color:#a6e22e">ShadowedCartesia</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span><span style="color:#f92672">)</span>
    distanceTo0<span style="color:#f92672">(</span><span style="color:#f92672">)</span>
 
shapeVisitorI
    <span style="color:#a6e22e">forCircle</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)</span>
    forSquare<span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)</span>
    forTrans<span style="color:#f92672">(</span>pointD<span style="color:#f92672">,</span> ShapeD<span style="color:#f92672">)</span>
    UnionVisitorI
    <span style="color:#a6e22e">forUnion</span><span style="color:#f92672">(</span>ShapeD<span style="color:#f92672">,</span> ShapeD<span style="color:#f92672">)</span>
        HasPtV <span style="color:#66d9ef">implements</span> ShapeVisitorI
            PointD
            <span style="color:#a6e22e">HasPt</span><span style="color:#f92672">(</span>PointD<span style="color:#f92672">)</span>
            forCircle<span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)</span>
            forSquare<span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)</span>
            forTrans<span style="color:#f92672">(</span>PointD<span style="color:#f92672">,</span> ShapeD<span style="color:#f92672">)</span>
        UnionHasPtV <span style="color:#66d9ef">implements</span> ShapeVisitorI
            <span style="color:#a6e22e">UnionHasPtV</span><span style="color:#f92672">(</span>PointD<span style="color:#f92672">)</span>
            forUnion<span style="color:#f92672">(</span>ShapeD<span style="color:#f92672">,</span> ShapeD<span style="color:#f92672">)</span>
            <span style="color:#66d9ef">return</span> s<span style="color:#f92672">.</span><span style="color:#a6e22e">accept</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> HasPtV<span style="color:#f92672">(</span>p<span style="color:#f92672">.</span><span style="color:#a6e22e">minus</span><span style="color:#f92672">(</span>q<span style="color:#f92672">)</span><span style="color:#f92672">)</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
        HasPtV <span style="color:#66d9ef">implements</span> ShapeVisitorI
            PointD
            <span style="color:#a6e22e">HasPt</span><span style="color:#f92672">(</span>PointD<span style="color:#f92672">)</span>
            ShapeVisitorI <span style="color:#a6e22e">newHasPt</span><span style="color:#f92672">(</span>PointD<span style="color:#f92672">)</span>
            forCircle<span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)</span>
            forSquare<span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)</span>
            forTrans<span style="color:#f92672">(</span>PointD<span style="color:#f92672">,</span> ShapeD<span style="color:#f92672">)</span>
        UnionHasPtV <span style="color:#66d9ef">implements</span> unionVisitorI
            <span style="color:#a6e22e">UnionHasPtV</span><span style="color:#f92672">(</span>PointD<span style="color:#f92672">)</span>
            ShapeVisitorI <span style="color:#a6e22e">newHasPt</span><span style="color:#f92672">(</span>PointD<span style="color:#f92672">)</span>_o
            <span style="color:#a6e22e">forUnion</span><span style="color:#f92672">(</span>ShapeD<span style="color:#f92672">,</span> ShapeD<span style="color:#f92672">)</span>
            <span style="color:#66d9ef">return</span> s<span style="color:#f92672">.</span><span style="color:#a6e22e">accept</span><span style="color:#f92672">(</span>newHasPtV<span style="color:#f92672">(</span>p<span style="color:#f92672">.</span><span style="color:#a6e22e">minus</span><span style="color:#f92672">(</span>q<span style="color:#f92672">)</span><span style="color:#f92672">)</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
 
 
ShapeD
    <span style="color:#a6e22e">Accept</span><span style="color:#f92672">(</span>ShapeVisitorI<span style="color:#f92672">)</span>
        Circle
            Int
            <span style="color:#a6e22e">Circle</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)</span>
            Accept<span style="color:#f92672">(</span>ShapeVisitorI<span style="color:#f92672">)</span>_o
        Square
            Int
            <span style="color:#a6e22e">Square</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)</span>
            Accept<span style="color:#f92672">(</span>ShapeVisitorI<span style="color:#f92672">)</span>_o
        Trans
            PointD
            ShapeD
            <span style="color:#a6e22e">Trans</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)</span>
            Accept<span style="color:#f92672">(</span>ShapeVisitorI<span style="color:#f92672">)</span>_o
        Union
            ShapeD
            ShapeD
            <span style="color:#a6e22e">Union</span><span style="color:#f92672">(</span>ShapeD<span style="color:#f92672">,</span> ShapeD<span style="color:#f92672">)</span>
            Accetp<span style="color:#f92672">(</span>ShapeVisitorI<span style="color:#f92672">)</span>_o
         
</code></pre></div><!-- raw HTML omitted -->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">PieManI
    Int <span style="color:#a6e22e">addTop</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">)</span>
    Int <span style="color:#a6e22e">remTop</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">)</span>
    Int <span style="color:#a6e22e">substTop</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span>Object<span style="color:#f92672">)</span>
    Int <span style="color:#a6e22e">occTop</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">)</span>
 
PieManM <span style="color:#66d9ef">implements</span> PieManI
    PieD
    <span style="color:#a6e22e">addTop</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">)</span> _o
    <span style="color:#a6e22e">remTop</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">)</span>_o
    <span style="color:#a6e22e">substTop</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span>Object<span style="color:#f92672">)</span>_o
    <span style="color:#a6e22e">occTop</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">)</span>
 
 
PieVisitorI
    <span style="color:#a6e22e">forBot</span><span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
    forTop<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
        OccursV
            Object
            <span style="color:#a6e22e">OccursV</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">)</span>
            forBot<span style="color:#f92672">(</span><span style="color:#f92672">)</span>_o
            <span style="color:#a6e22e">forTop</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span>PieD<span style="color:#f92672">)</span>_o
        SubstV
            Object
            Object
            <span style="color:#a6e22e">SubstV</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> Object<span style="color:#f92672">)</span>
            forBot<span style="color:#f92672">(</span><span style="color:#f92672">)</span><span style="color:#f92672">;</span>
            forTop<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span>PieD<span style="color:#f92672">)</span>_o
        RemV
            Object
            <span style="color:#a6e22e">RemV</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">)</span>
            forBot<span style="color:#f92672">(</span>Object<span style="color:#f92672">)</span>
            forTop<span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span>PieD<span style="color:#f92672">)</span>
     
 
PieD
    <span style="color:#a6e22e">Accept</span><span style="color:#f92672">(</span>PieVisitorI<span style="color:#f92672">)</span>
        Bot
            <span style="color:#a6e22e">Accept</span><span style="color:#f92672">(</span>PieVisitorI<span style="color:#f92672">)</span>_o
        Top
            Object
            PieD
            <span style="color:#a6e22e">Top</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> PieD<span style="color:#f92672">)</span>
            Accept<span style="color:#f92672">(</span>PieVisitorI<span style="color:#f92672">)</span>_o
 
PieVisitorI
    <span style="color:#a6e22e">forBot</span><span style="color:#f92672">(</span>Bot<span style="color:#f92672">)</span>
    foTop<span style="color:#f92672">(</span>Top<span style="color:#f92672">)</span>
        OccursV
            Object
            <span style="color:#a6e22e">OccursV</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">)</span>
            forBot<span style="color:#f92672">(</span>Bot that<span style="color:#f92672">)</span>
            forTop<span style="color:#f92672">(</span>Top that<span style="color:#f92672">)</span>
        SubstV
            Object
            Object
            <span style="color:#a6e22e">SubstV</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span>Object<span style="color:#f92672">)</span>
            forBot<span style="color:#f92672">(</span>Bot that<span style="color:#f92672">)</span>
            forTop<span style="color:#f92672">(</span>Top That<span style="color:#f92672">)</span>
        RemV
            Object
            <span style="color:#a6e22e">RemV</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">)</span>
            forBot<span style="color:#f92672">(</span>Bot that<span style="color:#f92672">)</span>
            fotTop<span style="color:#f92672">(</span>Top that<span style="color:#f92672">)</span>
 
PieD
    <span style="color:#a6e22e">Accept</span><span style="color:#f92672">(</span>PieVisitorI<span style="color:#f92672">)</span>
        Bot
            <span style="color:#a6e22e">Accept</span><span style="color:#f92672">(</span>PieVisitorI<span style="color:#f92672">)</span>_o
        Top
            Object
            Object
            <span style="color:#a6e22e">Top</span><span style="color:#f92672">(</span>Object<span style="color:#f92672">,</span> Objct<span style="color:#f92672">)</span>
            Accept<span style="color:#f92672">(</span>PieVisitor<span style="color:#f92672">)</span>_o
 
</code></pre></div><p><strong>每天你只能不断去思考 事情的要点和第一步和第二步 才能取得进步.</strong></p>
<p>What’s the point of the visitor pattern? What’s the point of the software design?</p>
<ul>
<li>亮点</li>
<li>突破点，并按照一定的方向。。</li>
<li>关键点</li>
</ul>
<p><img src="/images/alittlejava/closure.png" alt="closure"></p>
<p><strong>Closure(Closure(this))</strong></p>
<p>具体java源代码参考<a href="https://github.com/jueqingsizhe66/ALittleJava">the little java</a></p>
    </div>
 <div class="nav-links" style="padding:10;">
        
        <div align="left">
        <a href="https://jueqingsizhe66.github.io/blog/2016/09/29/physics-and-maths/"><span class="arrow">←</span> <strong>上一篇:Physics and Maths</strong></a>
        </div>
        
        


       <div align="right"> <a href="https://jueqingsizhe66.github.io/blog/2017/01/22/how-to-learn-one-technique/" ><strong>下一篇:how_to_learn_one_technique </strong><span class="arrow">→</span></a></div>
        
      </div>
    





<div class="article-tags">
  
  <a class="badge badge-light" href="/tags/javabasic/">JavaBasic</a>
  
</div>



<div class="share-box" aria-hidden="true">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=https://jueqingsizhe66.github.io/blog/2016/10/09/a-little-java-note/&amp;text=a%20little%20java%20note" target="_blank" rel="noopener" class="share-btn-twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=https://jueqingsizhe66.github.io/blog/2016/10/09/a-little-java-note/&amp;t=a%20little%20java%20note" target="_blank" rel="noopener" class="share-btn-facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=a%20little%20java%20note&amp;body=https://jueqingsizhe66.github.io/blog/2016/10/09/a-little-java-note/" target="_blank" rel="noopener" class="share-btn-email">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=https://jueqingsizhe66.github.io/blog/2016/10/09/a-little-java-note/&amp;title=a%20little%20java%20note" target="_blank" rel="noopener" class="share-btn-linkedin">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://web.whatsapp.com/send?text=a%20little%20java%20note%20https://jueqingsizhe66.github.io/blog/2016/10/09/a-little-java-note/" target="_blank" rel="noopener" class="share-btn-whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=https://jueqingsizhe66.github.io/blog/2016/10/09/a-little-java-note/&amp;title=a%20little%20java%20note" target="_blank" rel="noopener" class="share-btn-weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>












  






  
  
  
    
  
  
  <div class="media author-card content-widget-hr">
    
      
      <img class="portrait mr-3" src="/authors/admin/avatar_hub2bcfcfc92fc067668c68513c0d68b69_23221_250x250_fill_q90_lanczos_center.jpg" alt="Avatar">
    

    <div class="media-body">
      <h5 class="card-title"><a href="https://jueqingsizhe66.github.io/">Ye Zhaoliang</a></h5>
      <h6 class="card-subtitle">Engineer of offshore wind turbine technique research</h6>
      <p class="card-text">My research interests include distributed energy, wind turbine power generation technique , Computational fluid dynamic and programmable matter.</p>
      <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="/#contact" >
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://twitter.com/jueqingsizhe66" target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://scholar.google.co.uk/citations?user=7VyEMyQAAAAJ&amp;hl=zh-CN" target="_blank" rel="noopener">
        <i class="ai ai-google-scholar"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://github.com/jueqingsizhe66" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
    </li>
  
</ul>

    </div>
  </div>









  
  
  <div class="article-widget content-widget-hr">
    <h3>Related</h3>
    <ul>
      
      <li><a href="/blog/2016/04/15/neng-zhen-zheng-jiao-hui-ni-bian-cheng-neng-li-de-shi-zhong-xie/">能真正教会你编程能力的是重写</a></li>
      
      <li><a href="/blog/2016/03/03/schemehuan-jing-de-ji-chong-biao-xian-xing-shi-represtations/">scheme环境的几种表现形式-represtations</a></li>
      
      <li><a href="/blog/2016/02/27/the-fourth-interpreter-about-the-traceproc/">The Fourth Interpreter about the traceproc</a></li>
      
      <li><a href="/blog/2016/02/27/the-third-interpreter-implementing-proc/">The third Interpreter implementing Proc</a></li>
      
      <li><a href="/blog/2016/02/27/the-second-interpreter-from-one/">The Second Interpreter from One</a></li>
      
    </ul>


         <span id="busuanzi_container_site_pv"> 
             本站访问量：<span id="busuanzi_value_site_pv"></span>次 
         </span> 
         &nbsp; 
   </div> 


  </div>

</article>
<script src="https://utteranc.es/client.js"
        repo="jueqingsizhe66/jueqingsizhe66.github.io"
        issue-term="pathname"
        theme="github-dark"
        crossorigin="anonymous"
        async>
</script>

      

    
    
    
    <script src="/js/mathjax-config.js"></script>
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js" integrity="sha256-aYTdUrn6Ow1DDgh5JTc3aDGnnju48y/1c8s1dgkYPQ8=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/go.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/vim.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/matlab.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/sql.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/python.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/c.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/scheme.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/racket.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/perl.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/awk.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/clojure.min.js"></script>
        
      

      
      
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_CHTML-full" integrity="sha256-GhM+5JHb6QUzOQPXSJLEWP7R73CbkisjzK5Eyij4U9w=" crossorigin="anonymous" async></script>
      
    

    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.2.0/leaflet.js" integrity="sha512-lInM/apFSqyy1o6s89K4iQUKg6ppXEgsVxT35HbzUupEVRh2Eu9Wdl4tHj7dZO0s1uvplcYGmt3498TtHq+log==" crossorigin="anonymous"></script>
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    
    
    
    
    <script>
      const search_config = {"indexURI":"/index.json","minLength":1,"threshold":0.3};
      const i18n = {"no_results":"No results found","placeholder":"Search...","results":"results found"};
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.d6bd04fdad2ad213aa8111c5a3b72fc5.js"></script>

    






  
  
  <div class="container">
    <footer class="site-footer">
  

  <p class="powered-by">
    ©2020 &middot; 

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" class="back-to-top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

  </div>
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
