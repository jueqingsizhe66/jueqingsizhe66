<!DOCTYPE html>
<html lang="en-us">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.5.0">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Ye Zhaoliang">

  
  
  
    
  
  <meta name="description" content="这个gnuplot脚本是我用于处理Incompact3d产生出来的统计结果(如何统计部分，暂时未写)的画图脚本。">

  
  <link rel="alternate" hreflang="en-us" href="https://jueqingsizhe66.github.io/blog/2015/05/31/u-plus-y-plus/">

  


  
  
  
  <meta name="theme-color" content="#2962ff">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/solarized-dark.min.css" crossorigin="anonymous" title="hl-light">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/solarized-dark.min.css" crossorigin="anonymous" title="hl-dark" disabled>
      
    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.2.0/leaflet.css" integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ==" crossorigin="anonymous">
    

    

  

  
  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap">
  

  
  
  
  <link rel="stylesheet" href="/css/academic.min.e8d4d5fd376e67b34452ebe1cae16341.css">

  

  




  


  

  <link rel="manifest" href="/index.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon-32.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="https://jueqingsizhe66.github.io/blog/2015/05/31/u-plus-y-plus/">

  
  
  
  
    
    
  
  
  <meta property="twitter:card" content="summary">
  
  <meta property="twitter:site" content="@jueqingsizhe66">
  <meta property="twitter:creator" content="@jueqingsizhe66">
  
  <meta property="og:site_name" content="简约派">
  <meta property="og:url" content="https://jueqingsizhe66.github.io/blog/2015/05/31/u-plus-y-plus/">
  <meta property="og:title" content="U&#43;-Y&#43; | 简约派">
  <meta property="og:description" content="这个gnuplot脚本是我用于处理Incompact3d产生出来的统计结果(如何统计部分，暂时未写)的画图脚本。"><meta property="og:image" content="https://jueqingsizhe66.github.io/img/icon-192.png">
  <meta property="twitter:image" content="https://jueqingsizhe66.github.io/img/icon-192.png"><meta property="og:locale" content="en-us">
  
    
      <meta property="article:published_time" content="2015-05-31T09:31:05&#43;08:00">
    
    <meta property="article:modified_time" content="2015-05-31T09:31:05&#43;08:00">
  

  



  


  


  





  <title>U&#43;-Y&#43; | 简约派</title>

</head>

<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  
<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0 compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/">简约派</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav ml-auto">
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#hero"><span>概要</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#posts"><span>博文</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#projects"><span>项目</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#featured"><span>Publications</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/about/"><span>About</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/courses/"><span>课程</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/categories/"><span>分类</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/archives"><span>归档</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#tags"><span>标签</span></a>
        </li>

        
        

      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>


  <article class="article">

  








  
 <script async src="//cdn.busuanzi.ibruce.info/cdn/busuanzi/2.3/busuanzi.pure.mini.js"></script> 
 <script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script> 
 <script> 
     $(document).ready(function() { 
         var int = setInterval(fixCount, 100); 
         var busuanziSiteOffset =  100000  
         function fixCount() { 
             if ($("#busuanzi_container_site_pv").css("display") != "none") { 
                 clearInterval(int); 
                 $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + busuanziSiteOffset); 
             } 
         } 
     }); 
 </script> 
  






  

  
  
  
<div class="article-container pt-3">
  <h1>U&#43;-Y&#43;</h1>

  

  
    


<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    May 31, 2015
  </span>

  

  

  

  
  
  

  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder mr-1"></i><a href="">方法</a>, <a href="">数学</a></span>

  
</div>

    














  
</div>





<span class="article-metadata" >Reading time: 4 minutes and    52 seconds with 1071 words. 本文总阅读量<span id="busuanzi_value_page_pv"></span>次 </span>
    <aside>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#数据段">数据段</a></li>
    <li><a href="#gnuplot处理部分">gnuplot处理部分</a></li>
    <li><a href="#处理结果">处理结果</a></li>
    <li><a href="#一些实时监测部分">一些实时监测部分</a>
      <ul>
        <li><a href="#执行部分">执行部分：</a></li>
        <li><a href="#获取信息部分">获取信息部分</a></li>
        <li><a href="#打印部分">打印部分</a></li>
        <li><a href="#整合部分">整合部分</a></li>
        <li><a href="#实时浏览">实时浏览</a></li>
        <li><a href="#you-can-also-use-crontab-to-execute-program-in-real-time">You can also use crontab to execute program in real time</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </aside>
  <div class="article-container">


    <div class="article-style">
      <p>这个gnuplot脚本是我用于处理Incompact3d产生出来的统计结果(如何统计部分，暂时未写)的画图脚本。</p>
<h2 id="数据段">数据段</h2>
<p>注意gnuplot处理数据文件按照空行划分index部分。所以下面的部分总共有四个index，调用方式是</p>
<ul>
<li>plot &ldquo;文件名&rdquo; index 0   第一部分文件信息的打印</li>
<li>plot &ldquo;文件名&rdquo; index 1</li>
<li>plot &ldquo;文件名&rdquo; index 2</li>
<li>plot &ldquo;文件名&rdquo; index 3</li>
</ul>
<p>具体看gnuplot脚本部分。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#ae81ff">0</span> 2.9684e-24
0.7369 0.73552
1.4746 1.4677
2.2139 2.195
2.9556 2.915
3.7005 3.6242
4.4495 4.3184
5.2034 4.9934
5.9631 5.6455
6.7295 6.2713
7.5034 6.8686
8.2859 7.4358
9.078 7.9722
9.8806 8.4777
10.695 8.9528
11.522 9.3986
12.363 9.8162
13.219 10.207
14.092 10.573
14.983 10.916
15.894 11.236
16.825 11.537
17.779 11.819
18.759 12.084
19.764 12.334
20.799 12.569
21.864 12.791
22.963 13.001
24.099 13.201
25.273 13.391
26.49 13.572
27.753 13.745
29.065 13.911
30.431 14.071
31.855 14.225
33.343 14.374
34.899 14.52
36.529 14.661
38.24 14.8
40.04 14.936
41.936 15.07
43.936 15.202
46.052 15.333
48.292 15.464
50.669 15.594
53.196 15.725
55.887 15.856
58.756 15.989
61.819 16.124
65.096 16.262
68.603 16.402
72.361 16.544
76.389 16.69
80.706 16.838
85.33 16.988
90.276 17.139
95.557 17.288
101.18 17.434
107.14 17.572
113.42 17.7
<span style="color:#ae81ff">120</span> 17.813
126.85 17.906
133.91 17.975
141.11 18.017
148.4 18.03


<span style="color:#ae81ff">5</span> <span style="color:#ae81ff">0</span>
<span style="color:#ae81ff">5</span> <span style="color:#ae81ff">20</span>


<span style="color:#ae81ff">30</span> <span style="color:#ae81ff">0</span>
<span style="color:#ae81ff">30</span> <span style="color:#ae81ff">20</span>


<span style="color:#ae81ff">120</span> <span style="color:#ae81ff">0</span>
<span style="color:#ae81ff">120</span> <span style="color:#ae81ff">20</span>

</code></pre></div><h2 id="gnuplot处理部分">gnuplot处理部分</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-gnuplot" data-lang="gnuplot"><span style="color:#66d9ef">set</span> ter <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">png</span><span style="color:#e6db74">&#39;</span>
<span style="color:#66d9ef">set</span> out <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">fit1.png</span><span style="color:#e6db74">&#39;</span>
<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">set</span> xlabel <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">Y+</span><span style="color:#e6db74">&#34;</span>
<span style="color:#66d9ef">set</span> ylabel <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">U+</span><span style="color:#e6db74">&#34;</span>
<span style="color:#66d9ef">set</span> xtics font <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">Times-Roman, 15</span><span style="color:#e6db74">&#39;</span>
<span style="color:#66d9ef">f</span>(x)<span style="color:#f92672">=</span>a<span style="color:#f92672">*</span>x<span style="color:#f92672">+</span>b
<span style="color:#a6e22e">g</span>(x)<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span><span style="color:#f92672">/</span>k<span style="color:#f92672">*</span><span style="color:#a6e22e">log</span>(x)<span style="color:#f92672">+</span>B
<span style="color:#66d9ef">fit</span> [<span style="color:#ae81ff">0</span><span style="color:#f92672">:</span><span style="color:#ae81ff">5</span>] <span style="color:#a6e22e">f</span>(x) <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">umfit.dat</span><span style="color:#e6db74">&#34;</span> index <span style="color:#ae81ff">0</span> via a<span style="color:#f92672">,</span>b
<span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">a:=</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">,</span>a<span style="color:#f92672">,</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">b=</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">,</span>b
<span style="color:#66d9ef">fit</span> [<span style="color:#ae81ff">30</span><span style="color:#f92672">:</span><span style="color:#ae81ff">148</span>] <span style="color:#a6e22e">g</span>(x) <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">umfit.dat</span><span style="color:#e6db74">&#34;</span> index <span style="color:#ae81ff">0</span> via k<span style="color:#f92672">,</span>B
<span style="color:#66d9ef">print</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">k=</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">,</span>k<span style="color:#f92672">,</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">B=</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">,</span>B
<span style="color:#66d9ef">set</span> xtics <span style="color:#ae81ff">20</span>
<span style="color:#66d9ef">set</span> samples <span style="color:#ae81ff">1280</span>
<span style="color:#66d9ef">set</span> key right bottom box
<span style="color:#66d9ef">set</span> arrow from <span style="color:#ae81ff">20</span><span style="color:#f92672">,</span><span style="color:#ae81ff">5</span> to  <span style="color:#ae81ff">5</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span> 
<span style="color:#66d9ef">set</span> label  <span style="color:#a6e22e">sprintf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">viscous sub-layer fit:</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> f(x)=%g*x +%g</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">,</span> a<span style="color:#f92672">,</span>b)  at <span style="color:#ae81ff">20</span><span style="color:#f92672">,</span><span style="color:#ae81ff">6</span> 
<span style="color:#66d9ef">set</span> arrow from <span style="color:#ae81ff">90</span><span style="color:#f92672">,</span><span style="color:#ae81ff">12</span> to  <span style="color:#ae81ff">70</span><span style="color:#f92672">,</span><span style="color:#ae81ff">16</span>
<span style="color:#66d9ef">set</span> label <span style="color:#a6e22e">sprintf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">logarithm range fit:</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> f(x)=1/%g*log(x) +%g</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">,</span>k<span style="color:#f92672">,</span>B) at <span style="color:#ae81ff">90</span><span style="color:#f92672">,</span><span style="color:#ae81ff">11</span> 
<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">#</span><span style="color:#75715e">s</span><span style="color:#75715e">e</span><span style="color:#75715e">t</span><span style="color:#75715e"> </span><span style="color:#75715e">l</span><span style="color:#75715e">o</span><span style="color:#75715e">g</span><span style="color:#75715e">s</span><span style="color:#75715e">c</span><span style="color:#75715e">a</span><span style="color:#75715e">l</span><span style="color:#75715e">e</span><span style="color:#75715e"> </span><span style="color:#75715e">x</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">#</span><span style="color:#75715e">s</span><span style="color:#75715e">e</span><span style="color:#75715e">t</span><span style="color:#75715e"> </span><span style="color:#75715e">x</span><span style="color:#75715e">r</span><span style="color:#75715e">a</span><span style="color:#75715e">n</span><span style="color:#75715e">g</span><span style="color:#75715e">e</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">#</span><span style="color:#75715e">s</span><span style="color:#75715e">e</span><span style="color:#75715e">t</span><span style="color:#75715e"> </span><span style="color:#75715e">y</span><span style="color:#75715e">r</span><span style="color:#75715e">a</span><span style="color:#75715e">n</span><span style="color:#75715e">g</span><span style="color:#75715e">e</span><span style="color:#75715e"> </span><span style="color:#75715e">[</span><span style="color:#75715e">0</span><span style="color:#75715e">:</span><span style="color:#75715e">0</span><span style="color:#75715e">.</span><span style="color:#75715e">5</span><span style="color:#75715e">]</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">#</span><span style="color:#75715e">[</span><span style="color:#75715e">0</span><span style="color:#75715e">:</span><span style="color:#75715e">2</span><span style="color:#75715e">2</span><span style="color:#75715e">0</span><span style="color:#75715e">]</span><span style="color:#75715e">[</span><span style="color:#75715e">0</span><span style="color:#75715e">:</span><span style="color:#75715e">0</span><span style="color:#75715e">.</span><span style="color:#75715e">0</span><span style="color:#75715e">4</span><span style="color:#75715e">]</span><span style="color:#75715e"> </span><span style="color:#75715e"> </span><span style="color:#75715e"> </span><span style="color:#75715e">#</span><span style="color:#75715e"> </span><span style="color:#75715e">t</span><span style="color:#75715e">h</span><span style="color:#75715e">e</span><span style="color:#75715e"> </span><span style="color:#75715e">m</span><span style="color:#75715e">o</span><span style="color:#75715e">s</span><span style="color:#75715e">t</span><span style="color:#75715e"> </span><span style="color:#75715e">i</span><span style="color:#75715e">m</span><span style="color:#75715e">p</span><span style="color:#75715e">o</span><span style="color:#75715e">r</span><span style="color:#75715e">t</span><span style="color:#75715e">a</span><span style="color:#75715e">n</span><span style="color:#75715e">t</span><span style="color:#75715e"> </span><span style="color:#75715e">p</span><span style="color:#75715e">l</span><span style="color:#75715e">a</span><span style="color:#75715e">c</span><span style="color:#75715e">e</span><span style="color:#75715e"> </span><span style="color:#75715e">i</span><span style="color:#75715e">s</span><span style="color:#75715e"> </span><span style="color:#75715e">h</span><span style="color:#75715e">e</span><span style="color:#75715e">r</span><span style="color:#75715e">e</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">plot</span>  [<span style="color:#ae81ff">0</span><span style="color:#f92672">:</span><span style="color:#ae81ff">148</span>][<span style="color:#ae81ff">0</span><span style="color:#f92672">:</span><span style="color:#ae81ff">20</span>]  <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">umfit.dat</span><span style="color:#e6db74">&#34;</span> index <span style="color:#ae81ff">0</span> w lp pt <span style="color:#ae81ff">1</span>  t <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">U+--Y+</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">,</span><span style="color:#a6e22e">f</span>(x) w l lt <span style="color:#ae81ff">-1</span> lw <span style="color:#ae81ff">2</span> t <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">linear-fit</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">,</span><span style="color:#a6e22e">g</span>(x)  w  l lt <span style="color:#ae81ff">3</span> lw <span style="color:#ae81ff">2</span> t <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">log-fit</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">,</span>\
 <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">&#34;</span> index <span style="color:#ae81ff">1</span> w l lt <span style="color:#ae81ff">0</span> t <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">linear-fit-end</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">&#34;</span> index <span style="color:#ae81ff">2</span> w l lt <span style="color:#ae81ff">0</span> t <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">log-law-start</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">&#34;</span> index <span style="color:#ae81ff">3</span> w l lt <span style="color:#ae81ff">0</span> t <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">log-law-end</span><span style="color:#e6db74">&#34;</span>
<span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><h2 id="处理结果">处理结果</h2>
<p><img src="/images/incompact3d/fit1.png" alt="处理结果"></p>
<h2 id="一些实时监测部分">一些实时监测部分</h2>
<h3 id="执行部分">执行部分：</h3>
<p><strong>a.sh</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">mpirun -np <span style="color:#ae81ff">8</span>  incompact3d  &gt;&gt; tail.out &amp;
</code></pre></div><h3 id="获取信息部分">获取信息部分</h3>
<p><strong>image.sh</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">more tail.out | grep DIV | grep U* |grep Max|sed <span style="color:#e6db74">&#39;/final/d&#39;</span>| awk -F<span style="color:#e6db74">&#39;=&#39;</span> <span style="color:#e6db74">&#39;{print $2}&#39;</span> |sed <span style="color:#e6db74">&#39;1,3d&#39;</span>&gt; divu
more tail.out | grep UT | awk  <span style="color:#e6db74">&#39;{print $4}&#39;</span>|sed <span style="color:#e6db74">&#39;1,2d&#39;</span> &gt; flow-rate-correction-factor

<span style="color:#75715e">#more tail.out | grep zhao | awk &#39;{print $2,$3,$4}&#39; &gt; stretching</span>

more tail.out | grep PHI | grep max|awk -F<span style="color:#e6db74">&#39;=&#39;</span> <span style="color:#e6db74">&#39;{print $2}&#39;</span> &gt; PHImax

more tail.out | grep PHI|grep MOYEN | awk  -F<span style="color:#e6db74">&#34;:&#34;</span> <span style="color:#e6db74">&#39;{print $2*10^4}&#39;</span>&gt; PHImoyen
<span style="color:#75715e">#gnuplot monitorFLOWRATE.gnu</span>

bash monitor.sh
</code></pre></div><h3 id="打印部分">打印部分</h3>
<p><strong>monitor.sh</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#75715e">#!/bin/bash
</span><span style="color:#75715e"></span><span style="color:#75715e">#===============================================================================</span>
#
<span style="color:#75715e">#          FILE:  monitor.sh</span>
# 
<span style="color:#75715e">#         USAGE:  ./monitor.sh</span> 
# 
<span style="color:#75715e">#   DESCRIPTION:</span>  
# 
<span style="color:#75715e">#       OPTIONS:  ---</span>
<span style="color:#75715e">#  REQUIREMENTS:  ---</span>
<span style="color:#75715e">#          BUGS:  ---</span>
<span style="color:#75715e">#         NOTES:  ---</span>
<span style="color:#75715e">#        AUTHOR:  Ye Zhaoliang (YZL), zhaoturkkey@163.com</span>
<span style="color:#75715e">#       COMPANY:  NCEPU</span>
<span style="color:#75715e">#       VERSION:  1.0</span>
<span style="color:#75715e">#       CREATED:  2014年10月28日 09时42分15秒 CST</span>
<span style="color:#75715e">#      REVISION:  ---</span>
<span style="color:#75715e">#===============================================================================</span>

<span style="color:#75715e"># set yrange [0:2]</span>
<span style="color:#75715e"># set xlabel</span>
<span style="color:#75715e"># set ylabel</span>
<span style="color:#66d9ef">function</span> mainpoint<span style="color:#f92672">(</span><span style="color:#f92672">)</span>
<span style="color:#f92672">{</span>
 <span style="color:#75715e">#   echo $0;</span>
<span style="color:#75715e">#    echo $1;</span>
gnuplot<span style="color:#e6db74">&lt;&lt;EOF
</span><span style="color:#e6db74">set ter &#39;png&#39;
</span><span style="color:#e6db74">set out &#39;$1.png&#39;
</span><span style="color:#e6db74">set grid
</span><span style="color:#e6db74">plot &#39;$1&#39; w p pt 2
</span><span style="color:#e6db74">EOF</span>

<span style="color:#f92672">}</span>

<span style="color:#66d9ef">function</span> mainline<span style="color:#f92672">(</span><span style="color:#f92672">)</span>
<span style="color:#f92672">{</span>
 <span style="color:#75715e">#   echo $0;</span>
 <span style="color:#75715e">#   echo $1;</span>
gnuplot<span style="color:#e6db74">&lt;&lt;EOF
</span><span style="color:#e6db74">set ter &#39;png&#39;
</span><span style="color:#e6db74">set out &#39;$1.png&#39;
</span><span style="color:#e6db74">set grid
</span><span style="color:#e6db74">set yrange [0:2]
</span><span style="color:#e6db74">plot &#39;$1&#39; w l lt 2
</span><span style="color:#e6db74">EOF</span>


<span style="color:#f92672">}</span>

<span style="color:#75715e">#mainpoint ux2</span>
<span style="color:#75715e">#mainpoint uy2</span>
<span style="color:#75715e">#mainpoint uz2</span>
<span style="color:#75715e">#mainpoint ux5</span>
<span style="color:#75715e">#mainpoint uy5</span>
<span style="color:#75715e">#mainpoint uz5</span>
<span style="color:#75715e">#mainline uy2</span>
mainpoint divu
mainpoint flow-rate-correction-factor
<span style="color:#75715e">#mainpoint stretching</span>
mainpoint PHImax
mainpoint PHImoyen
<span style="color:#75715e">#mainpoint averageux2</span>
<span style="color:#75715e">#mainpoint averageux5</span>
<span style="color:#75715e">#mainpoint rxx2</span>
<span style="color:#75715e">#mainpoint rxx5</span>
<span style="color:#75715e">#mainpoint dudy_bottom_spatial_only</span>
<span style="color:#75715e">#mainpoint dudy_top_spatial_only</span>
<span style="color:#75715e">#mainpoint dudy_bottom_spatial_time</span>
<span style="color:#75715e">#mainpoint dudy_top_spatial_time</span>

<span style="color:#75715e">#new add  stress</span>
<span style="color:#75715e">#mainpoint umean</span>
<span style="color:#75715e">#mainpoint vmean</span>
<span style="color:#75715e">#mainpoint wmean</span>
<span style="color:#75715e">##mainpoint uu</span>
<span style="color:#75715e">##mainpoint vv</span>
<span style="color:#75715e">#mainpoint ww</span>

<span style="color:#75715e">#mainpoint stressu</span>
<span style="color:#75715e">#mainpoint stressv</span>
<span style="color:#75715e">#mainpoint stressw</span>
<span style="color:#75715e">#mainpoint stressuv</span>
<span style="color:#75715e">#mainpoint stressuw</span>
<span style="color:#75715e">#mainpoint stressvw</span>
</code></pre></div><h3 id="整合部分">整合部分</h3>
<p>cut -c的目的是获取具体对应的时间步,然后把所有的png相关信息 放到对应时间步文件夹中。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">cd /home/Cedric/diric/src <span style="color:#f92672">&amp;&amp;</span> more tail.out |grep Time|awk <span style="color:#e6db74">&#39;{print $4}&#39;</span> |tail -1|cut -c 1-6 |awk <span style="color:#e6db74">&#39;{cmd=&#34;mkdir step&#34;$1;system(cmd);system(&#34;sh image.sh&#34;);cmd2=&#34;mv *.png step&#34;$1;system(cmd2);} &#39;</span>

<span style="color:#75715e"># END{cmd3=&#34;mv dudy* umean stress step&#34;$1;system(cmd3)}</span>
</code></pre></div><h3 id="实时浏览">实时浏览</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">切换到对应的文件夹
$ python -m SimpleHTTPServer 

</code></pre></div><p>然后就可以打开 127.0.0.1:8000进行浏览了。</p>
<h3 id="you-can-also-use-crontab-to-execute-program-in-real-time">You can also use crontab to execute program in real time</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">
crontab -e
</code></pre></div><p>Then you can copy the info below,but modified the datatime.</p>
<pre><code>0 23 19 6 * sh /home/simulation2_128-117-128Re4200/main.sh 
30 23 19 6 * sh /home/simulation2_128-117-128Re4200/main.sh 
0 0 20 6 * sh /home/simulation2_128-117-128Re4200/main.sh 
30 0 20 6 * sh /home/simulation2_128-117-128Re4200/main.sh 
0 1 20 6 * sh /home/simulation2_128-117-128Re4200/main.sh 
30 1 20 6 * sh /home/simulation2_128-117-128Re4200/main.sh 
0 2 20 6 * sh /home/simulation2_128-117-128Re4200/main.sh 
30 2 20 6 * sh /home/simulation2_128-117-128Re4200/main.sh 
0 3 20 6 * sh /home/simulation2_128-117-128Re4200/main.sh 
30 3 20 6 * sh /home/simulation2_128-117-128Re4200/main.sh 
0 4 20 6 * sh /home/simulation2_128-117-128Re4200/main.sh 
30 4 20 6 * sh /home/simulation2_128-117-128Re4200/main.sh 
0 5 20 6 * sh /home/simulation2_128-117-128Re4200/main.sh 
30 5 20 6 * sh /home/simulation2_128-117-128Re4200/main.sh 
0 6 20 6 * sh /home/simulation2_128-117-128Re4200/main.sh 
30 6 20 6 * sh /home/simulation2_128-117-128Re4200/main.sh 
0 7 20 6 * sh /home/simulation2_128-117-128Re4200/main.sh 
30 7 20 6 * sh /home/simulation2_128-117-128Re4200/main.sh 
</code></pre>
    </div>
 <div class="nav-links" style="padding:10;">
        
        <div align="left">
        <a href="https://jueqingsizhe66.github.io/blog/2015/05/29/githe-githubpei-zhi/"><span class="arrow">←</span> <strong>上一篇:git和github配置</strong></a>
        </div>
        
        


       <div align="right"> <a href="https://jueqingsizhe66.github.io/blog/2015/06/02/bashzhi-neng-fen-lei-sheng-ji-ban/" ><strong>下一篇:bash智能分类升级版 </strong><span class="arrow">→</span></a></div>
        
      </div>
    





<div class="article-tags">
  
  <a class="badge badge-light" href="/tags/incompact3d/">incompact3d </a>
  
  <a class="badge badge-light" href="/tags/dns/">DNS</a>
  
</div>



<div class="share-box" aria-hidden="true">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=https://jueqingsizhe66.github.io/blog/2015/05/31/u-plus-y-plus/&amp;text=U&#43;-Y&#43;" target="_blank" rel="noopener" class="share-btn-twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=https://jueqingsizhe66.github.io/blog/2015/05/31/u-plus-y-plus/&amp;t=U&#43;-Y&#43;" target="_blank" rel="noopener" class="share-btn-facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=U&#43;-Y&#43;&amp;body=https://jueqingsizhe66.github.io/blog/2015/05/31/u-plus-y-plus/" target="_blank" rel="noopener" class="share-btn-email">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=https://jueqingsizhe66.github.io/blog/2015/05/31/u-plus-y-plus/&amp;title=U&#43;-Y&#43;" target="_blank" rel="noopener" class="share-btn-linkedin">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://web.whatsapp.com/send?text=U&#43;-Y&#43;%20https://jueqingsizhe66.github.io/blog/2015/05/31/u-plus-y-plus/" target="_blank" rel="noopener" class="share-btn-whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=https://jueqingsizhe66.github.io/blog/2015/05/31/u-plus-y-plus/&amp;title=U&#43;-Y&#43;" target="_blank" rel="noopener" class="share-btn-weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>












  






  
  
  
    
  
  
  <div class="media author-card content-widget-hr">
    
      
      <img class="portrait mr-3" src="/authors/admin/avatar_hu52a603635ecebd45650b162dadabb4e5_12861_250x250_fill_q90_lanczos_center.jpg" alt="Avatar">
    

    <div class="media-body">
      <h5 class="card-title"><a href="https://jueqingsizhe66.github.io/">Ye Zhaoliang</a></h5>
      <h6 class="card-subtitle">Engineer of offshore wind turbine technique research</h6>
      <p class="card-text">My research interests include distributed energy, wind turbine power generation technique , Computational fluid dynamic and programmable matter.</p>
      <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="/#contact" >
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://twitter.com/jueqingsizhe66" target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://scholar.google.co.uk/citations?user=7VyEMyQAAAAJ&amp;hl=zh-CN" target="_blank" rel="noopener">
        <i class="ai ai-google-scholar"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://github.com/jueqingsizhe66" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
    </li>
  
</ul>

    </div>
  </div>









  
  
  <div class="article-widget content-widget-hr">
    <h3>Related</h3>
    <ul>
      
      <li><a href="/blog/2015/05/17/the-greatest-weapons/">The greatest weapons</a></li>
      
      <li><a href="/blog/2015/05/16/haskellji-ge-ji-ben-gai-nian-xue-er-wu-yong-wu-yi-wei-yong/">Haskell几个基本概念--学而无用--无以为用</a></li>
      
      <li><a href="/blog/2015/05/12/zhao-chu-han-shu-de-bu-dong-dian-navier-stokesfang-cheng/">找出函数的不动点--Navier-Stokes方程</a></li>
      
      <li><a href="/blog/2014/05/14/poisson/">poisson</a></li>
      
      <li><a href="/blog/2015/05/29/haskellzai-nao-hai-li-de-zong-ji/">Haskell在脑海里的踪迹</a></li>
      
    </ul>


         <span id="busuanzi_container_site_pv"> 
             本站访问量：<span id="busuanzi_value_site_pv"></span>次 
         </span> 
         &nbsp; 
   </div> 


  </div>

</article>
<script src="https://utteranc.es/client.js"
        repo="jueqingsizhe66/jueqingsizhe66.github.io"
        issue-term="pathname"
        theme="github-dark"
        crossorigin="anonymous"
        async>
</script>

      

    
    
    
    <script src="/js/mathjax-config.js"></script>
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js" integrity="sha256-aYTdUrn6Ow1DDgh5JTc3aDGnnju48y/1c8s1dgkYPQ8=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/go.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/vim.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/matlab.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/sql.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/python.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/c.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/scheme.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/racket.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/perl.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/awk.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/clojure.min.js"></script>
        
      

      
      
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_CHTML-full" integrity="sha256-GhM+5JHb6QUzOQPXSJLEWP7R73CbkisjzK5Eyij4U9w=" crossorigin="anonymous" async></script>
      
    

    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.2.0/leaflet.js" integrity="sha512-lInM/apFSqyy1o6s89K4iQUKg6ppXEgsVxT35HbzUupEVRh2Eu9Wdl4tHj7dZO0s1uvplcYGmt3498TtHq+log==" crossorigin="anonymous"></script>
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    
    
    
    
    <script>
      const search_config = {"indexURI":"/index.json","minLength":1,"threshold":0.3};
      const i18n = {"no_results":"No results found","placeholder":"Search...","results":"results found"};
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.d6bd04fdad2ad213aa8111c5a3b72fc5.js"></script>

    






  
  
  <div class="container">
    <footer class="site-footer">
  

  <p class="powered-by">
    ©2020 &middot; 

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" class="back-to-top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

  </div>
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
