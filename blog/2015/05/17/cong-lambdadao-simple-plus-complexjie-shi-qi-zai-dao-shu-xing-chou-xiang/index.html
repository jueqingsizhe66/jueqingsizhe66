<!DOCTYPE html>
<html lang="en-us">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.5.0">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Ye Zhaoliang">

  
  
  
    
  
  <meta name="description" content="定义一个eternity函数，并尝试是否可以执行
(define eternity
(lambda (x)
   (eternity x)))
其实eternity永远在执行着，无法退出">

  
  <link rel="alternate" hreflang="en-us" href="https://jueqingsizhe66.github.io/blog/2015/05/17/cong-lambdadao-simple-plus-complexjie-shi-qi-zai-dao-shu-xing-chou-xiang/">

  


  
  
  
  <meta name="theme-color" content="#2962ff">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/solarized-dark.min.css" crossorigin="anonymous" title="hl-light">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/solarized-dark.min.css" crossorigin="anonymous" title="hl-dark" disabled>
      
    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.2.0/leaflet.css" integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ==" crossorigin="anonymous">
    

    

  

  
  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap">
  

  
  
  
  <link rel="stylesheet" href="/css/academic.min.e8d4d5fd376e67b34452ebe1cae16341.css">

  

  




  


  

  <link rel="manifest" href="/index.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon-32.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="https://jueqingsizhe66.github.io/blog/2015/05/17/cong-lambdadao-simple-plus-complexjie-shi-qi-zai-dao-shu-xing-chou-xiang/">

  
  
  
  
    
    
  
  
  <meta property="twitter:card" content="summary">
  
  <meta property="twitter:site" content="@jueqingsizhe66">
  <meta property="twitter:creator" content="@jueqingsizhe66">
  
  <meta property="og:site_name" content="Macro Life">
  <meta property="og:url" content="https://jueqingsizhe66.github.io/blog/2015/05/17/cong-lambdadao-simple-plus-complexjie-shi-qi-zai-dao-shu-xing-chou-xiang/">
  <meta property="og:title" content="从lambda到simple&#43;complex解释器再到树形抽象 | Macro Life">
  <meta property="og:description" content="定义一个eternity函数，并尝试是否可以执行
(define eternity
(lambda (x)
   (eternity x)))
其实eternity永远在执行着，无法退出"><meta property="og:image" content="https://jueqingsizhe66.github.io/img/icon-192.png">
  <meta property="twitter:image" content="https://jueqingsizhe66.github.io/img/icon-192.png"><meta property="og:locale" content="en-us">
  
    
      <meta property="article:published_time" content="2015-05-17T11:32:07&#43;08:00">
    
    <meta property="article:modified_time" content="2019-10-27T20:50:56&#43;08:00">
  

  



  


  


  





  <title>从lambda到simple&#43;complex解释器再到树形抽象 | Macro Life</title>

</head>

<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  
<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0 compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/">Macro Life</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav ml-auto">
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#hero"><span>概要</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#posts"><span>博文</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#projects"><span>项目</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#featured"><span>Publications</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/about/"><span>About</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/courses/"><span>课程</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/categories/"><span>分类</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/archives"><span>归档</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#tags"><span>标签</span></a>
        </li>

        
        

      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>


  <article class="article">

  








  
 <script async src="//cdn.busuanzi.ibruce.info/cdn/busuanzi/2.3/busuanzi.pure.mini.js"></script> 
 <script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script> 
 <script> 
     $(document).ready(function() { 
         var int = setInterval(fixCount, 100); 
         var busuanziSiteOffset =  100000  
         function fixCount() { 
             if ($("#busuanzi_container_site_pv").css("display") != "none") { 
                 clearInterval(int); 
                 $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + busuanziSiteOffset); 
             } 
         } 
     }); 
 </script> 
  






  

  
  
  
<div class="article-container pt-3">
  <h1>从lambda到simple&#43;complex解释器再到树形抽象</h1>

  

  
    


<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
          Last updated on
      
    
    Oct 27, 2019
  </span>

  

  

  

  
  
  

  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder mr-1"></i><a href="/categories/programme/">programme</a></span>

  
</div>

    














  
</div>





<span class="article-metadata" >Reading time: 13 minutes and    21 seconds with 2940 words. 本文总阅读量<span id="busuanzi_value_page_pv"></span>次 </span>
    <aside>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#eternity">定义一个eternity函数，并尝试是否可以执行</a>
      <ul>
        <li><a href="#10eternity">1.下面式子只能计算列表的长度<=0的,且永远不会调用eternity</a></li>
        <li><a href="#21eternity">2.下面式子只能计算列表的长度<=1的,且永远不会调用eternity</a></li>
        <li><a href="#32eternity">3.下面式子只能计算列表的长度<=2的,且永远不会调用eternity</a></li>
      </ul>
    </li>
    <li><a href="#heading">如果我们进行一次变换</a>
      <ul>
        <li><a href="#1eternitymk-length">1.把eternity替换成mk-length</a></li>
        <li><a href="#heading-1">然而我们对他进一步提取发现报错了</a></li>
        <li><a href="#heading-2">为什么不行？</a></li>
        <li><a href="#let">let宏</a></li>
        <li><a href="#heading-3">然而其实我的想法只不过是他的复制</a></li>
      </ul>
    </li>
    <li><a href="#heading-4">简单计算器解释器</a></li>
    <li><a href="#heading-5">复杂解释器</a></li>
    <li><a href="#heading-6">树形抽象</a>
      <ul>
        <li><a href="#-insertleft-insertright-eventonlyrembercol">额外话题 insertleft insertright eventonly比较上面的rember,理解col</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </aside>
  <div class="article-container">


    <div class="article-style">
      <h2 id="eternity">定义一个eternity函数，并尝试是否可以执行</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">(<span style="color:#66d9ef">define </span>eternity
(<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">x</span>)
   (<span style="color:#a6e22e">eternity</span> x)))
</code></pre></div><p>其实eternity永远在执行着，无法退出</p>
<h3 id="10eternity">1.下面式子只能计算列表的长度&lt;=0的,且永远不会调用eternity</h3>
<p>; Function to calculate length of just empty list.
;
((lambda (len)
(lambda (l)
(cond
((null? l) 0)
(else (+ 1 (len (cdr l)))))))
eternity)</p>
<h3 id="21eternity">2.下面式子只能计算列表的长度&lt;=1的,且永远不会调用eternity</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme"><span style="color:#75715e">; For lists with length &lt;= 1</span>
<span style="color:#75715e">;</span>
((<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">mk-length</span>)
  (<span style="color:#a6e22e">mk-length</span> mk-length))
 (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">mk-length</span>)
   (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">l</span>)
     (<span style="color:#a6e22e">cond</span>
       ((null? l) <span style="color:#ae81ff">0</span>)
       (<span style="color:#66d9ef">else </span>(+ <span style="color:#ae81ff">1</span> ((<span style="color:#a6e22e">mk-length</span> eternity) (cdr l))))))))


</code></pre></div><h3 id="32eternity">3.下面式子只能计算列表的长度&lt;=2的,且永远不会调用eternity</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme"><span style="color:#75715e">; For lists with length &lt;= 2</span>
<span style="color:#75715e">;</span>
((<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">len</span>)
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">l</span>)
    (<span style="color:#a6e22e">cond</span>
      ((null? l) <span style="color:#ae81ff">0</span>)
      (<span style="color:#66d9ef">else </span>(+ <span style="color:#ae81ff">1</span> (<span style="color:#a6e22e">len</span> (cdr l)))))))
 ((<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">len</span>)
   (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">l</span>)
     (<span style="color:#a6e22e">cond</span>
       ((null? l) <span style="color:#ae81ff">0</span>)
       (<span style="color:#66d9ef">else </span>(+ <span style="color:#ae81ff">1</span> (<span style="color:#a6e22e">len</span> (cdr l)))))))
  ((<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">len</span>)
    (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">l</span>)
      (<span style="color:#a6e22e">cond</span>
        ((null? l) <span style="color:#ae81ff">0</span>)
        (<span style="color:#66d9ef">else </span>(+ <span style="color:#ae81ff">1</span> (<span style="color:#a6e22e">len</span> (cdr l)))))))
   eternity)))
 
</code></pre></div><h2 id="heading">如果我们进行一次变换</h2>
<h3 id="1eternitymk-length">1.把eternity替换成mk-length</h3>
<p>我们发现结果是它可以变成处理无限长度的列表了。</p>
<pre><code>(((lambda (mk-length)
  (mk-length mk-length))
 (lambda (mk-length)
   (lambda (l)
     (cond
       ((null? l) 0)
       (else (+ 1 ((mk-length mk-length) (cdr l))))))))
 '(a b c 1 g))  ; 5

</code></pre><h3 id="heading-1">然而我们对他进一步提取发现报错了</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">((<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">mk-length</span>)
  (<span style="color:#a6e22e">mk-length</span> mk-length))
 (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">mk-length</span>)
   ((<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">len</span>)
     (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">l</span>)
       (<span style="color:#a6e22e">cond</span>
         ((null? l) <span style="color:#ae81ff">0</span>)
         (<span style="color:#66d9ef">else </span>(+ <span style="color:#ae81ff">1</span> (<span style="color:#a6e22e">len</span> (cdr l)))))))
    (<span style="color:#a6e22e">mk-length</span> mk-length)))) <span style="color:#75715e">; Aborting!: maximum recursion depth exceeded</span>

</code></pre></div><h3 id="heading-2">为什么不行？</h3>
<p>原因在于 我们需要的是lambda类型的procedure才可以，而函数调用形式则是不行。
然而有一种转换方式如下：</p>
<p>(f x) ==&gt; (lambda (arg) (f arg) x)</p>
<p>于是我们得到新的升级版的mk-length</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">
((<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">mk-length</span>)
  (<span style="color:#a6e22e">mk-length</span> mk-length))
 (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">mk-length</span>)
   ((<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">len</span>)
     (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">l</span>)
       (<span style="color:#a6e22e">cond</span>
         ((null? l) <span style="color:#ae81ff">0</span>)
         (<span style="color:#66d9ef">else </span>(+ <span style="color:#ae81ff">1</span> (<span style="color:#a6e22e">len</span> (cdr l)))))))
    (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">x</span>) ((<span style="color:#a6e22e">mk-length</span> mk-length) x)))))
</code></pre></div><p>我们发现还是不够满意，我们想把中间的一坨拿到后面去，于是再次抽象一层
也就是我们需要 把(lambda (len) &hellip; (cdr l))部分 移到最外头</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">((<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">le</span>)
  ((<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">mk-length</span>)
    (<span style="color:#a6e22e">mk-length</span> mk-length))
   (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">mk-length</span>)
     (<span style="color:#a6e22e">le</span> (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">x</span>) ((<span style="color:#a6e22e">mk-length</span> mk-length) x))))))
 (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">len</span>)
   (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">l</span>)
     (<span style="color:#a6e22e">cond</span>
       ((null? l) <span style="color:#ae81ff">0</span>)
       (<span style="color:#66d9ef">else </span>(+ <span style="color:#ae81ff">1</span> (<span style="color:#a6e22e">len</span> (cdr l))))))))

</code></pre></div><p>然而如果我们把后面的(lambda (len))部分去掉</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">(<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">le</span>)
  ((<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">mk-length</span>)
    (<span style="color:#a6e22e">mk-length</span> mk-length))
   (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">mk-length</span>)
     (<span style="color:#a6e22e">le</span> (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">x</span>) ((<span style="color:#a6e22e">mk-length</span> mk-length) x))))))

</code></pre></div><p>他其实就是下面的骨架：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">(<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">le</span>)
  ((<span style="color:#66d9ef">lambda </span>()
    ())
   (<span style="color:#66d9ef">lambda </span>()
     (<span style="color:#a6e22e">le</span> (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">x</span>) (() x))))))
</code></pre></div><p>如果我们使用f来填加：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">(<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">le</span>)
    ((<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">f</span>)
      (<span style="color:#a6e22e">f</span> f))
     (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">f</span>)
       (<span style="color:#a6e22e">le</span> (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">x</span>) ((<span style="color:#a6e22e">f</span> f) x))))))
</code></pre></div><p>他其实就是Y-lambda. 我们所谓的define，let,set!都可以从lambda 推出来。</p>
<h3 id="let">let宏</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">
(<span style="color:#a6e22e">define-syntax</span>
    (<span style="color:#66d9ef">syntax-rules </span>()
        ((<span style="color:#66d9ef">let </span>((<span style="color:#a6e22e">var</span> expr) <span style="color:#f92672">.</span><span style="color:#f92672">.</span><span style="color:#f92672">.</span>) body <span style="color:#f92672">.</span><span style="color:#f92672">.</span><span style="color:#f92672">.</span>) ((<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">var</span> <span style="color:#f92672">.</span><span style="color:#f92672">.</span><span style="color:#f92672">.</span>) body <span style="color:#f92672">.</span><span style="color:#f92672">.</span><span style="color:#f92672">.</span>) expr <span style="color:#f92672">.</span><span style="color:#f92672">.</span><span style="color:#f92672">.</span>))))

</code></pre></div><p>也就是我们以后完全可以用</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">
(<span style="color:#66d9ef">define </span>Y
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">le</span>)
    ((<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">f</span>) (<span style="color:#a6e22e">f</span> f))
     (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">f</span>)
       (<span style="color:#a6e22e">le</span> (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">x</span>) ((<span style="color:#a6e22e">f</span> f) x)))))))
</code></pre></div><p>Y-lambda 执行一个 代表lambda的函数子f。</p>
<p>比如,求最大值(<em>注意：(lambda (func-arg) func-arg是可以不存在的部分,永远不会被执行</em>)):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme"><span style="color:#75715e">;; 求个数</span>

((<span style="color:#a6e22e">Y</span> (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">len</span>)
   (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">l</span>)
     (<span style="color:#a6e22e">cond</span>
       ((null? l) <span style="color:#ae81ff">0</span>)
       (<span style="color:#66d9ef">else </span>(+ <span style="color:#ae81ff">1</span> (<span style="color:#a6e22e">len</span> (cdr l))))))))  <span style="color:#f92672">&#39;</span>(<span style="color:#ae81ff">3</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">6</span> <span style="color:#ae81ff">1</span>))

<span style="color:#75715e">;;; 求最大值</span>
 ((<span style="color:#a6e22e">Y</span> (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">func-arg</span>)
        (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">l</span>)
          (<span style="color:#a6e22e">cond</span>
            ((null? l) <span style="color:#e6db74">&#39;no-list</span>)
            ((null? (cdr l)) (car l))
            (<span style="color:#66d9ef">else </span>(max (car l) (<span style="color:#a6e22e">func-arg</span> (cdr l)))))))) <span style="color:#f92672">&#39;</span>(<span style="color:#ae81ff">3</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">425</span>))
</code></pre></div><p>另外我们发现y-lambda可以写成更优雅、对称的形式:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">(<span style="color:#66d9ef">define </span>Y
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">le</span>)
    ((<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">f</span>)
      (<span style="color:#a6e22e">le</span> (<span style="color:#a6e22e">f</span> f))) <span style="color:#75715e">;;; </span>
     (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">f</span>)
       (<span style="color:#a6e22e">le</span> (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">x</span>) ((<span style="color:#a6e22e">f</span> f) x)))))))

</code></pre></div><p>Add le()  is not necessay
But the code can be
More beautiful and symmetry</p>
<h3 id="heading-3">然而其实我的想法只不过是他的复制</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">(<span style="color:#66d9ef">define </span>Y1
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">le</span>)
    ((<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">fun</span>)
      (<span style="color:#a6e22e">fun</span> fun))  <span style="color:#75715e">;; 这是基于抽象的方式,也就是把后面的(lambda (f))  带入其中</span>

     (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">f</span>)
       (<span style="color:#a6e22e">le</span> (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">x</span>) ((<span style="color:#a6e22e">f</span> f) x)))))))

((<span style="color:#a6e22e">Y1</span> 
 (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">fun-arg</span>)
   (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">l</span>)
     (<span style="color:#a6e22e">cond</span>
       ((null? l) <span style="color:#ae81ff">0</span>)
       (<span style="color:#66d9ef">else </span>(+ <span style="color:#ae81ff">1</span> (<span style="color:#a6e22e">fun-arg</span> (cdr l)))))))) <span style="color:#f92672">&#39;</span>(<span style="color:#ae81ff">3</span> <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">42</span>))
</code></pre></div><h2 id="heading-4">简单计算器解释器</h2>
<p>来自<a href="http://pythoner.org/wiki/774/">wangyin</a></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme"><span style="color:#f92672">#</span>lang racket
<span style="color:#75715e">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span style="color:#75715e">;;; 以下三个定义 env0, ent-env, lookup 是对环境(environment)的基本操作:</span>

<span style="color:#75715e">;; 空环境</span>
(<span style="color:#66d9ef">define </span>env0 <span style="color:#f92672">&#39;</span>())

<span style="color:#75715e">;; 扩展。对环境 env 进行扩展，把 x 映射到 v，得到一个新的环境</span>
(<span style="color:#66d9ef">define </span>ext-env
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">x</span> v env)
    (cons <span style="color:#f92672">`</span>(<span style="color:#f92672">,</span>x <span style="color:#f92672">.</span> <span style="color:#f92672">,</span>v) env)))

<span style="color:#75715e">;; 查找。在环境中 env 中查找 x 的值</span>
(<span style="color:#66d9ef">define </span>lookup
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">x</span> env)
    (<span style="color:#66d9ef">let </span>([p (assq x env)])
      (<span style="color:#a6e22e">cond</span>
       [(not p) x]
       [<span style="color:#66d9ef">else </span>(cdr p)]))))

<span style="color:#75715e">;; 闭包的数据结构定义，包含一个函数定义 f 和它定义时所在的环境</span>
(<span style="color:#a6e22e">struct</span> Closure (<span style="color:#a6e22e">f</span> env))

<span style="color:#75715e">;; 解释器的递归定义（接受两个参数，表达式 exp 和环境 env）</span>
<span style="color:#75715e">;; 共 5 种情况（变量，函数，调用，数字，算术表达式）</span>
(<span style="color:#66d9ef">define </span>interp1
  (<span style="color:#66d9ef">lambda </span>(exp env)
    (<span style="color:#a6e22e">match</span> exp                                          <span style="color:#75715e">; 模式匹配 exp 的以下情况（分支）</span>
      [(<span style="color:#a6e22e">?</span> symbol? x) (<span style="color:#a6e22e">lookup</span> x env)]                    <span style="color:#75715e">; 变量</span>
      [(<span style="color:#a6e22e">?</span> number? x) x]                                 <span style="color:#75715e">; 数字</span>
      [<span style="color:#f92672">`</span>(<span style="color:#66d9ef">lambda </span>(<span style="color:#f92672">,</span>x) <span style="color:#f92672">,</span>e)                                <span style="color:#75715e">; 函数</span>
       (<span style="color:#a6e22e">Closure</span> exp env)]
      [<span style="color:#f92672">`</span>(<span style="color:#f92672">,</span>e1 <span style="color:#f92672">,</span>e2)                                       <span style="color:#75715e">; 调用</span>
       (<span style="color:#66d9ef">let </span>([v1 (<span style="color:#a6e22e">interp1</span> e1 env)]
             [v2 (<span style="color:#a6e22e">interp1</span> e2 env)])
         (<span style="color:#a6e22e">match</span> v1
           [(<span style="color:#a6e22e">Closure</span> <span style="color:#f92672">`</span>(<span style="color:#66d9ef">lambda </span>(<span style="color:#f92672">,</span>x) <span style="color:#f92672">,</span>e) env1)
            (<span style="color:#a6e22e">interp1</span> e (<span style="color:#a6e22e">ext-env</span> x v2 env1))]))]
      [<span style="color:#f92672">`</span>(<span style="color:#f92672">,</span>op <span style="color:#f92672">,</span>e1 <span style="color:#f92672">,</span>e2)                                   <span style="color:#75715e">; 算术表达式</span>
       (<span style="color:#66d9ef">let </span>([v1 (<span style="color:#a6e22e">interp1</span> e1 env)]
             [v2 (<span style="color:#a6e22e">interp1</span> e2 env)])
         (<span style="color:#a6e22e">match</span> op
           [<span style="color:#e6db74">&#39;+</span> (+ v1 v2)]
           [<span style="color:#e6db74">&#39;-</span> (- v1 v2)]
           [<span style="color:#e6db74">&#39;*</span> (* v1 v2)]
           [<span style="color:#e6db74">&#39;/</span> (/ v1 v2)]))])))

<span style="color:#75715e">;; 解释器的“用户界面”函数。它把 interp1 包装起来，掩盖第二个参数，初始值为 env0</span>
(<span style="color:#66d9ef">define </span>interp
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">exp</span>)
    (<span style="color:#a6e22e">interp1</span> exp env0)))

<span style="color:#75715e">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
(<span style="color:#a6e22e">interp</span> (+ <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">65</span>))
(<span style="color:#a6e22e">interp</span> (* <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">2</span>))
(<span style="color:#a6e22e">interp</span> (/ <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">23</span>))



</code></pre></div><h2 id="heading-5">复杂解释器</h2>
<p>分为五个部分</p>
<ul>
<li>*const</li>
<li>*cond</li>
<li>*identifier(loop-up-evironment)</li>
<li>*quote</li>
<li>*lambda</li>
<li>*Aplication(Not Promitive)</li>
</ul>
<p>具体可以看<!-- raw HTML omitted --></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme"><span style="color:#f92672">#</span>lang racket
<span style="color:#75715e">;;don&#39;t look down on it, it is the full interpretor!</span>
<span style="color:#75715e">;;Take care to read it!</span>
(<span style="color:#66d9ef">define </span>atom?
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">x</span>)
    (<span style="color:#66d9ef">and </span>(not (pair? x)) (not (null? x)))))
  
(<span style="color:#66d9ef">define </span>build
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">s1</span> s2)
    (<span style="color:#a6e22e">cond</span>
      (<span style="color:#66d9ef">else </span>(cons s1
                  (cons s2 (<span style="color:#66d9ef">quote </span>())))))))
((<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">nothing</span>)
     (<span style="color:#a6e22e">cond</span>
       (<span style="color:#a6e22e">nothing</span> (<span style="color:#66d9ef">quote </span>something))
       (<span style="color:#66d9ef">else </span>(<span style="color:#66d9ef">quote </span>nothing))))
   <span style="color:#66d9ef">#t</span>)

(<span style="color:#66d9ef">define </span>lookup-in-entry
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">name</span> entry entry-f)
    (<span style="color:#a6e22e">lookup-in-entry-help</span> name
                          (<span style="color:#a6e22e">first</span> entry)
                          (<span style="color:#a6e22e">second</span> entry)
                          (<span style="color:#a6e22e">entry-f</span>))))
(<span style="color:#66d9ef">define </span>lookup-in-entry-help
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">name</span> names values entry-f)
    (<span style="color:#a6e22e">cond</span>
      ((null? names) (<span style="color:#a6e22e">entry-f</span> name))
      ((eq? (car names) name)
       (car values))
      (<span style="color:#66d9ef">else </span>(<span style="color:#a6e22e">lookup-in-entry-help</span> name
                                  (cdr names)
                                  (cdr values)
                                  entry-f)))))
(<span style="color:#66d9ef">define </span>lookup-in-table
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">name</span> table table-f)
    (<span style="color:#66d9ef">cond </span>
      ((null? table) (<span style="color:#a6e22e">table-f</span> name))
      (<span style="color:#66d9ef">else </span>(<span style="color:#a6e22e">lookup-in-entry</span> name
                             (car table)
                             (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">name</span>)
                                                (cdr table)
                                                (<span style="color:#a6e22e">table-f</span>))))))))
(<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">name</span> table table-f)
    (<span style="color:#a6e22e">lookup-in-table</span> name
                     (cdr table)
                     (<span style="color:#a6e22e">table-f</span>)))
(<span style="color:#66d9ef">define </span>expression-to-action
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">e</span>)
    (<span style="color:#a6e22e">cond</span>
      ((<span style="color:#a6e22e">atom?</span> e) (<span style="color:#a6e22e">atom-to-action</span> e))
      (<span style="color:#66d9ef">else </span>(<span style="color:#a6e22e">list-to-action</span> e)))))
(<span style="color:#66d9ef">define </span>*const
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">e</span> table)
    (<span style="color:#66d9ef">cond </span>
      ((number? e) e)
      ((eq? e <span style="color:#66d9ef">#t</span>) <span style="color:#66d9ef">#t</span>)
      ((eq? e <span style="color:#66d9ef">#f</span>) <span style="color:#66d9ef">#f</span>)
      (<span style="color:#66d9ef">else </span>(<span style="color:#a6e22e">build</span> (<span style="color:#66d9ef">quote </span>primitive) e)))))
(<span style="color:#66d9ef">define </span>atom-to-action
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">e</span>)
    (<span style="color:#a6e22e">cond</span>
      ((number? e) *const)
      ((eq? e <span style="color:#66d9ef">#t</span>) *const)
      ((eq? e <span style="color:#66d9ef">#f</span>) *const)
      ((eq? e (<span style="color:#66d9ef">quote </span>cons)) *const)
      ((eq? e (<span style="color:#66d9ef">quote </span>car)) *const)
      ((eq? e (<span style="color:#66d9ef">quote </span>cdr)) *const)
      ((eq? e (<span style="color:#66d9ef">quote </span>null?)) *const)
      ((eq? e (<span style="color:#66d9ef">quote </span>eq?)) *const)
      ((eq? e (<span style="color:#66d9ef">quote </span>atom?)) *const)
      ((eq? e (<span style="color:#66d9ef">quote </span>zero?)) *const)
      ((eq? e (<span style="color:#66d9ef">quote </span>add1)) *const)
      ((eq? e (<span style="color:#66d9ef">quote </span>sub1)) *const)
      ((eq? e (<span style="color:#66d9ef">quote </span>number?)) *const)
      (<span style="color:#66d9ef">else </span>*identifier))))
(<span style="color:#66d9ef">define </span>list-to-action
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">e</span>)
    (<span style="color:#a6e22e">cond</span>
      ((<span style="color:#a6e22e">atom?</span> (car e))
       (<span style="color:#a6e22e">cond</span>
         ((eq? (car e) (<span style="color:#66d9ef">quote </span>quote))
          *quote)
         ((eq? (car e) (<span style="color:#66d9ef">quote </span>lambda))
          *lambda)
         ((eq? (car e) (<span style="color:#66d9ef">quote </span>cond))
          *cond)
         (<span style="color:#66d9ef">else </span>*application)))
      (<span style="color:#66d9ef">else </span>*application))))

(<span style="color:#66d9ef">define </span>*quote
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">e</span> table)
    (<span style="color:#a6e22e">text-of</span> e)))
(<span style="color:#66d9ef">define </span>first
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">p</span>)
    (<span style="color:#66d9ef">cond </span>
      (<span style="color:#66d9ef">else </span>(car p)))))
(<span style="color:#66d9ef">define </span>second
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">p</span>)
    (<span style="color:#a6e22e">cond</span>
      (<span style="color:#66d9ef">else </span>car (cdr p)))))
(<span style="color:#66d9ef">define </span>third
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">p</span>)
    (<span style="color:#66d9ef">cond </span>
      (<span style="color:#66d9ef">else </span>car (cdr (cdr p))))))
(<span style="color:#66d9ef">define </span>text-of second)

(<span style="color:#66d9ef">define </span>table-of first)
(<span style="color:#66d9ef">define </span>formals-of second)
(<span style="color:#66d9ef">define </span>body-of third)
(<span style="color:#66d9ef">define </span>*identifier
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">e</span> table)
    (<span style="color:#a6e22e">lookup-in-table</span> e table initial-table)))
(<span style="color:#66d9ef">define </span>initial-table
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">name</span>)
    (car (<span style="color:#66d9ef">quote </span>()))))
(<span style="color:#66d9ef">define </span>*lambda
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">e</span> table)
    (<span style="color:#a6e22e">build</span> (<span style="color:#66d9ef">quote </span>non-primitive)
           (cons table (cdr e)))))

(<span style="color:#66d9ef">define </span>evcon
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">lines</span> table)
    (<span style="color:#66d9ef">cond </span>
      ((<span style="color:#a6e22e">else?</span> (<span style="color:#a6e22e">question-of</span> (car lines)))
       (<span style="color:#a6e22e">meaning</span> (<span style="color:#a6e22e">answer-of</span> (car lines))
                table))
      ((<span style="color:#a6e22e">meaning</span> (<span style="color:#a6e22e">question-of</span> (car lines))
                table)
       (<span style="color:#a6e22e">meaning</span> (<span style="color:#a6e22e">answer-of</span> (car lines))
                table))
      (<span style="color:#66d9ef">else </span>(<span style="color:#a6e22e">evcon</span> (cdr lines) table)))))

(<span style="color:#66d9ef">define </span>else?
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">x</span>)
    (<span style="color:#a6e22e">cond</span>
      ((<span style="color:#a6e22e">atom?</span> x) (eq? x (<span style="color:#66d9ef">quote </span>else)))
      (<span style="color:#66d9ef">else </span><span style="color:#66d9ef">#f</span>))))
(<span style="color:#66d9ef">define </span>question-of first)
(<span style="color:#66d9ef">define </span>answer-of second)

(<span style="color:#66d9ef">define </span>*cond
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">e</span> table)
    (<span style="color:#a6e22e">evcon</span> (<span style="color:#a6e22e">cond-lines-of</span> e) table)))
(<span style="color:#66d9ef">define </span>cond-lines-of cdr)

(<span style="color:#66d9ef">define </span>evlis
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">args</span> table)
    (<span style="color:#a6e22e">cond</span>
      ((null? args) (<span style="color:#66d9ef">quote </span>()))
      (<span style="color:#a6e22e">else</span>
       (cons (<span style="color:#a6e22e">meaning</span> (car args) table)
             (<span style="color:#a6e22e">evlis</span> (cdr args) table))))))
(<span style="color:#66d9ef">define </span>*application
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">e</span> table)
    (<span style="color:#a6e22e">apply</span>
     (<span style="color:#a6e22e">meaning</span> (<span style="color:#a6e22e">function-of</span> e) table)
     (<span style="color:#a6e22e">evlis</span> (<span style="color:#a6e22e">arguments-of</span> e) table))))
(<span style="color:#66d9ef">define </span>function-of car)
(<span style="color:#66d9ef">define </span>arguments-of cdr)
(<span style="color:#66d9ef">define </span>primitive?
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">l</span>)
    (eq? (<span style="color:#a6e22e">first</span> l) (<span style="color:#66d9ef">quote </span>primitive))))
(<span style="color:#66d9ef">define </span>non-primitive?
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">l</span>)
    (eq? (<span style="color:#a6e22e">first</span> l) (<span style="color:#66d9ef">quote </span>non-primitive))))
(<span style="color:#66d9ef">define </span>apply
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">fun</span> vals)
    (<span style="color:#a6e22e">cond</span>
      ((<span style="color:#a6e22e">primitive?</span> fun)
       (<span style="color:#a6e22e">apply-primitive</span>
        (<span style="color:#a6e22e">second</span> fun) vals))
      ((<span style="color:#a6e22e">non-primitive?</span> fun)
       (<span style="color:#a6e22e">apply-closure</span>
        (<span style="color:#a6e22e">second</span> fun) vals)))))

(<span style="color:#66d9ef">define </span>apply-primitive
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">name</span> vals)
    (<span style="color:#a6e22e">cond</span>
      ((eq? name (<span style="color:#66d9ef">quote </span>cons))
       (cons (<span style="color:#a6e22e">first</span> vals) (<span style="color:#a6e22e">second</span> vals)))
      ((eq? name (<span style="color:#66d9ef">quote </span>car))
       (car (<span style="color:#a6e22e">first</span> vals)))
      ((eq? name (<span style="color:#66d9ef">quote </span>cdr))
      ((eq? name (<span style="color:#66d9ef">quote </span>cdr))
       (cdr (<span style="color:#a6e22e">first</span> vals)))
      ((eq? name (<span style="color:#66d9ef">quote </span>null?))
       (null? (<span style="color:#a6e22e">first</span> vals)))
      ((eq? name (<span style="color:#66d9ef">quote </span>eq?))
       (eq? (<span style="color:#a6e22e">first</span> vals) (<span style="color:#a6e22e">second</span> vals)))
      ((eq? name (<span style="color:#66d9ef">quote </span>atom?))
       (<span style="color:#a6e22e">:atom?</span> (<span style="color:#a6e22e">first</span> vals)))
      ((eq? name (<span style="color:#66d9ef">quote </span>zero?))
       (zero? (<span style="color:#a6e22e">first</span> vals)))
      ((eq? name (<span style="color:#66d9ef">quote </span>add1))
       (<span style="color:#a6e22e">add1</span> (<span style="color:#a6e22e">first</span> vals)))
      ((eq? name (<span style="color:#66d9ef">quote </span>sub1))
       (<span style="color:#a6e22e">sub1</span> (<span style="color:#a6e22e">first</span> vals)))
      ((eq? name (<span style="color:#66d9ef">quote </span>number?))
       (number? (<span style="color:#a6e22e">first</span> vals))))))
(<span style="color:#66d9ef">define </span>:atom?
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">x</span>)
    (<span style="color:#a6e22e">cond</span>
      ((<span style="color:#a6e22e">atom?</span> x) <span style="color:#66d9ef">#t</span>)
      ((null? x) <span style="color:#66d9ef">#f</span>)
      ((eq? (car x) (<span style="color:#66d9ef">quote </span>primitive))
       <span style="color:#66d9ef">#t</span>)
      ((eq? (car x) (<span style="color:#66d9ef">quote </span>non-primitive))
       <span style="color:#66d9ef">#t</span>)
      (<span style="color:#66d9ef">else </span><span style="color:#66d9ef">#f</span>))))
(<span style="color:#66d9ef">define </span>apply-closure
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">closure</span> vals)
    (<span style="color:#a6e22e">meaning</span> (<span style="color:#a6e22e">body-of</span> closure)
             (<span style="color:#a6e22e">extend-table</span>
              (<span style="color:#a6e22e">new-entry</span>
               (<span style="color:#a6e22e">formals-of</span> closure)
               vals)
              (<span style="color:#a6e22e">table-of</span> closure)))))
(<span style="color:#66d9ef">define </span>new-entry build)
(<span style="color:#66d9ef">define </span>extend-table cons)

(<span style="color:#66d9ef">define </span>value
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">e</span>)
    (<span style="color:#a6e22e">meaning</span> e (<span style="color:#66d9ef">quote </span>()))))
(<span style="color:#66d9ef">define </span>meaning
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">e</span> table)
    ((<span style="color:#a6e22e">expression-to-action</span> e) e table)))

(<span style="color:#a6e22e">value</span> (+ <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span> (* <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">1</span>)))

</code></pre></div><h2 id="heading-6">树形抽象</h2>
<ol>
<li>一个lat 中的一个删除</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">
(<span style="color:#66d9ef">define </span>rember3
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">s</span> l)
    (<span style="color:#66d9ef">cond </span>
      ((null? l) (<span style="color:#66d9ef">quote </span>()))
      ((equal? (car l) s) (cdr l))
      (<span style="color:#66d9ef">else </span>(cons (car l)
                  (<span style="color:#a6e22e">rember3</span> s (cdr l)))))))

</code></pre></div><ol start="2">
<li>一个list中的一个删除</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">
(<span style="color:#66d9ef">define </span>multirember
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">a</span> lat)
    (<span style="color:#a6e22e">cond</span>
      ((null? lat) (<span style="color:#66d9ef">quote </span>()))
      (<span style="color:#a6e22e">else</span>
       (<span style="color:#a6e22e">cond</span>
         ((eq? (car lat) a)
          (<span style="color:#a6e22e">multirember</span> a (cdr lat)))
         (<span style="color:#66d9ef">else </span>(cons (car lat)
                     (<span style="color:#a6e22e">multirember</span> a (cdr lat)))))))))

</code></pre></div><ol start="3">
<li>一个list中的全部删除</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">

(<span style="color:#66d9ef">define </span>rember*
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">a</span> l)
    (<span style="color:#a6e22e">cond</span>
      ((null? l) (<span style="color:#66d9ef">quote </span>()))
      ((<span style="color:#a6e22e">atom?</span> (car l))
       (<span style="color:#66d9ef">cond </span>
         ((eq? (car l) a)
          (<span style="color:#a6e22e">rember*</span> a (cdr l)))
         (<span style="color:#66d9ef">else </span>(cons (car l)
                     (<span style="color:#a6e22e">rember*</span> a (cdr l))))))
     (<span style="color:#66d9ef">else </span>(cons (<span style="color:#a6e22e">rember*</span> a (car l))
           (<span style="color:#a6e22e">rember*</span> a (cdr l)))))))


</code></pre></div><p>4 1中的rember升级
加入谓词表达式的参数</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">(<span style="color:#66d9ef">define </span>rember-f
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">test?</span> a l)
    (<span style="color:#66d9ef">cond </span>
      ((null? l) (<span style="color:#66d9ef">quote </span>()))
      (<span style="color:#a6e22e">else</span>
       (<span style="color:#66d9ef">cond </span>
         ((<span style="color:#a6e22e">test?</span> (car l) a) (cdr l))<span style="color:#75715e">;;I think here needs atom2function</span>
         (<span style="color:#66d9ef">else </span>(cons (car l)
                     (<span style="color:#a6e22e">rember-f</span> test? a 
                               (cdr l)))))))))

</code></pre></div><ol start="5">
<li>2中的multirember升级</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">
(<span style="color:#66d9ef">define </span>multirember-f
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">test?</span>)
    (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">a</span> lat)
      (<span style="color:#66d9ef">cond </span>
        ((null? lat) (<span style="color:#66d9ef">quote </span>()))
        ((<span style="color:#a6e22e">test?</span> a (car lat))
         ((<span style="color:#a6e22e">multirember-f</span> test?) a
                               (cdr lat)))
        (<span style="color:#66d9ef">else </span>(cons (car lat)
                    ((<span style="color:#a6e22e">multirember</span> test?)  a 
                                          (cdr lat))))))))

(<span style="color:#66d9ef">define </span>multirember-eq? (<span style="color:#a6e22e">multirember-f</span> <span style="color:#e6db74">&#39;eq?</span>))

</code></pre></div><ol start="6">
<li>5中的multirember-f进一步升级</li>
</ol>
<p>加入了可以处理的col,作为一个后处理小程序</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">

(<span style="color:#66d9ef">define </span>multiremberco
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">a</span> lat col)
    (<span style="color:#66d9ef">cond </span>
      ((null? lat)
       (<span style="color:#a6e22e">col</span> (<span style="color:#66d9ef">quote </span>()) (<span style="color:#66d9ef">quote </span>())))
      ((eq? (car lat) a)
       (<span style="color:#a6e22e">multiremberco</span> a 
                      (cdr lat)
                      (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">newlat</span> seen) 
                        (<span style="color:#a6e22e">col</span> newlat (cons (car lat) seen)))))
      (<span style="color:#a6e22e">else</span>
       (<span style="color:#a6e22e">multiremberco</span> a 
                      (cdr lat)
                      (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">newlat</span> seen)
                        (<span style="color:#a6e22e">col</span> (cons (car lat) newlat)
                             seen)))))))

(<span style="color:#66d9ef">define </span>a-friend
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">x</span> y)
    (null? y)))
<span style="color:#75715e">;(multiremberco &#39;tuna &#39;(sfds tuna fsd jif) a-friend)</span>
<span style="color:#75715e">;#f</span>
<span style="color:#75715e">;&gt; (multiremberco &#39;tuna &#39;(sfds tuna1 fsd jif) a-friend)</span>
<span style="color:#75715e">;#t</span>
<span style="color:#75715e">;;how can  you get another value in the col</span>
(<span style="color:#66d9ef">define </span>new-friend
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">newlat</span> seen)
    (<span style="color:#a6e22e">a-friend</span> newlat
         (cons (<span style="color:#66d9ef">quote </span>tuna) seen))))

</code></pre></div><h3 id="-insertleft-insertright-eventonlyrembercol">额外话题 insertleft insertright eventonly比较上面的rember,理解col</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">
(<span style="color:#66d9ef">define </span>multiinsertLR
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">new</span> oldL oldR lat)
    (<span style="color:#a6e22e">cond</span>
      ((null? lat) (<span style="color:#66d9ef">quote </span>()))
      ((eq? (car lat) oldL)
       (cons new 
             (cons oldL
                   (<span style="color:#a6e22e">multiinsertLR</span> new oldL oldR
                                  (cdr lat)))))
      ((eq? (car lat) oldR)
       (cons oldR
             (cons new
                   (<span style="color:#a6e22e">multiinsertLR</span> new oldL oldR
                                 (cdr lat))))))))

(<span style="color:#66d9ef">define </span>multiinsertLRco
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">new</span> oldL oldR lat col)
    (<span style="color:#a6e22e">cond</span>
      ((null? lat)
       (<span style="color:#a6e22e">col</span> (<span style="color:#66d9ef">quote </span>()) <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span>))
      ((eq? (car lat) oldL)
       (<span style="color:#a6e22e">multiinsertLRco</span> new oldL oldR
                        (cdr lat)
                        (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">newlat</span> L R)
                          (<span style="color:#a6e22e">col</span> (cons new 
                                     (cons oldL newlat))
                               (+ <span style="color:#ae81ff">1</span> L) R))))
      ((eq? (car lat) oldR)
       (<span style="color:#a6e22e">multiinsertLRco</span> new oldL oldR
                        (cdr lat)
                        (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">newlat</span> L R)
                          (<span style="color:#a6e22e">col</span> (cons oldR
                                     (cons new newlat))
                               L (+ <span style="color:#ae81ff">1</span> R)))))
      (<span style="color:#a6e22e">else</span>
       (<span style="color:#a6e22e">multiinsertLRco</span> new oldL oldR 
                        (cdr lat)
                        (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">newlat</span> L R)
                          (<span style="color:#a6e22e">col</span> (cons (car lat) newlat)
                               L R)))))))


(<span style="color:#66d9ef">define </span>evens-only*co
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">l</span> col)
    (<span style="color:#a6e22e">cond</span>
      ((null? l)
       (<span style="color:#a6e22e">col</span> (<span style="color:#66d9ef">quote </span>()) <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">0</span>))
      ((<span style="color:#a6e22e">atom?</span> (car l))
       (<span style="color:#66d9ef">cond </span>
         ((even? (car l))
          (<span style="color:#a6e22e">evens-only*co</span> (cdr l)
                         (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">newl</span> p s)
                           (<span style="color:#a6e22e">col</span> (cons (car l) newl)<span style="color:#75715e">;if it is evens ,so cons it into the newl</span>
                                (* (car l) p) s))))
         (<span style="color:#66d9ef">else </span>(<span style="color:#a6e22e">evens-only*co</span> (cdr l)
                              (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">newl</span> p s)
                                (<span style="color:#a6e22e">col</span> newl p (+ (car l) s)))))))
       (<span style="color:#66d9ef">else </span>(<span style="color:#a6e22e">evens-only*co</span> (car l)
                            (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">al</span> ap as)
                              (<span style="color:#a6e22e">evens-only*co</span> (cdr l)
                                             (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">dl</span> dp ds)
                                               (<span style="color:#a6e22e">col</span> (cons al dl)
                                                    (* ap dp)
                                                    (+ as ds))))))))))
<span style="color:#75715e">;the fourth collector :: the last-last-friend</span>
(<span style="color:#66d9ef">define </span>the-last-last-friend
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">newl</span> product sum)
    (cons sum 
          (cons product 
                newl))))
<span style="color:#75715e">;&gt; (evens-only*co &#39;(45389 63 45 6 4 234  6 4 23 52 43) the-last-last-friend)</span>
<span style="color:#75715e">;&#39;(45563 7008768 6 4 234 6 4 52)</span>


</code></pre></div><ol start="7">
<li>进一步升级multirember 提取公共形式</li>
</ol>
<p>insert-g可以变幻出 rember
insert-r insert-l  subset等</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">
(<span style="color:#66d9ef">define </span>rembern
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">a</span> l)
    ((<span style="color:#a6e22e">insert-g</span> seqrem) <span style="color:#66d9ef">#f</span> a l)))<span style="color:#75715e">;;seqrem doesn&#39;t need (seqrem solve my ?.</span>
(<span style="color:#66d9ef">define </span>seqrem
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">new</span> old l) 
    l))

</code></pre></div><p><em>那么insert-g到底是什么?</em></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">
(<span style="color:#66d9ef">define </span>insert-g
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">seq</span>)
    (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">new</span> old l)
      (<span style="color:#a6e22e">cond</span>
        ((null? l) (<span style="color:#66d9ef">quote </span>()))
        ((eq? (car l) old)
         (<span style="color:#a6e22e">seq</span> new old (cdr l)))
        (<span style="color:#66d9ef">else </span>(cons (car l)
                    ((<span style="color:#a6e22e">insert-g</span> seq) new old
                                    (cdr l))))))))

</code></pre></div><p>所以现在我们可以定义subst</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">(<span style="color:#66d9ef">define </span>seqS
  (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">new</span> old l)
    (cons new l)))

(<span style="color:#66d9ef">define </span>seqL
    (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">new</span> old l)
     (cons new (cons old l))))

(<span style="color:#66d9ef">define </span>seqR
    (<span style="color:#66d9ef">lambda </span>(<span style="color:#a6e22e">new</span> old l)
        (cons (<span style="color:#a6e22e">old</span> (cons new l)))))

(<span style="color:#66d9ef">define </span>subst1 (<span style="color:#a6e22e">insert-g</span> seqS))
(<span style="color:#66d9ef">define </span>insertL (<span style="color:#a6e22e">insert-g</span> seqL))
(<span style="color:#66d9ef">define </span>insertR (<span style="color:#a6e22e">insert-g</span> seqR))

</code></pre></div><p>经过这四个级别的抽象我们得到一般的具备公共模式的insert-g
当然该函数还可以继续抽象。</p>
    </div>
 <div class="nav-links" style="padding:10;">
        
        <div align="left">
        <a href="https://jueqingsizhe66.github.io/blog/2015/05/16/haskellji-ge-ji-ben-gai-nian-xue-er-wu-yong-wu-yi-wei-yong/"><span class="arrow">←</span> <strong>上一篇:Haskell几个基本概念--学而无用--无以为用</strong></a>
        </div>
        
        


       <div align="right"> <a href="https://jueqingsizhe66.github.io/blog/2015/05/17/the-greatest-weapons/" ><strong>下一篇:The greatest weapons </strong><span class="arrow">→</span></a></div>
        
      </div>
    





<div class="article-tags">
  
  <a class="badge badge-light" href="/tags/scheme/">scheme</a>
  
</div>



<div class="share-box" aria-hidden="true">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=https://jueqingsizhe66.github.io/blog/2015/05/17/cong-lambdadao-simple-plus-complexjie-shi-qi-zai-dao-shu-xing-chou-xiang/&amp;text=%e4%bb%8elambda%e5%88%b0simple&#43;complex%e8%a7%a3%e9%87%8a%e5%99%a8%e5%86%8d%e5%88%b0%e6%a0%91%e5%bd%a2%e6%8a%bd%e8%b1%a1" target="_blank" rel="noopener" class="share-btn-twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=https://jueqingsizhe66.github.io/blog/2015/05/17/cong-lambdadao-simple-plus-complexjie-shi-qi-zai-dao-shu-xing-chou-xiang/&amp;t=%e4%bb%8elambda%e5%88%b0simple&#43;complex%e8%a7%a3%e9%87%8a%e5%99%a8%e5%86%8d%e5%88%b0%e6%a0%91%e5%bd%a2%e6%8a%bd%e8%b1%a1" target="_blank" rel="noopener" class="share-btn-facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=%e4%bb%8elambda%e5%88%b0simple&#43;complex%e8%a7%a3%e9%87%8a%e5%99%a8%e5%86%8d%e5%88%b0%e6%a0%91%e5%bd%a2%e6%8a%bd%e8%b1%a1&amp;body=https://jueqingsizhe66.github.io/blog/2015/05/17/cong-lambdadao-simple-plus-complexjie-shi-qi-zai-dao-shu-xing-chou-xiang/" target="_blank" rel="noopener" class="share-btn-email">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=https://jueqingsizhe66.github.io/blog/2015/05/17/cong-lambdadao-simple-plus-complexjie-shi-qi-zai-dao-shu-xing-chou-xiang/&amp;title=%e4%bb%8elambda%e5%88%b0simple&#43;complex%e8%a7%a3%e9%87%8a%e5%99%a8%e5%86%8d%e5%88%b0%e6%a0%91%e5%bd%a2%e6%8a%bd%e8%b1%a1" target="_blank" rel="noopener" class="share-btn-linkedin">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://web.whatsapp.com/send?text=%e4%bb%8elambda%e5%88%b0simple&#43;complex%e8%a7%a3%e9%87%8a%e5%99%a8%e5%86%8d%e5%88%b0%e6%a0%91%e5%bd%a2%e6%8a%bd%e8%b1%a1%20https://jueqingsizhe66.github.io/blog/2015/05/17/cong-lambdadao-simple-plus-complexjie-shi-qi-zai-dao-shu-xing-chou-xiang/" target="_blank" rel="noopener" class="share-btn-whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=https://jueqingsizhe66.github.io/blog/2015/05/17/cong-lambdadao-simple-plus-complexjie-shi-qi-zai-dao-shu-xing-chou-xiang/&amp;title=%e4%bb%8elambda%e5%88%b0simple&#43;complex%e8%a7%a3%e9%87%8a%e5%99%a8%e5%86%8d%e5%88%b0%e6%a0%91%e5%bd%a2%e6%8a%bd%e8%b1%a1" target="_blank" rel="noopener" class="share-btn-weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>












  






  
  
  
    
  
  
  <div class="media author-card content-widget-hr">
    
      
      <img class="portrait mr-3" src="/authors/admin/avatar_hu52a603635ecebd45650b162dadabb4e5_12861_250x250_fill_q90_lanczos_center.jpg" alt="Avatar">
    

    <div class="media-body">
      <h5 class="card-title"><a href="https://jueqingsizhe66.github.io/">Ye Zhaoliang</a></h5>
      <h6 class="card-subtitle">Engineer of offshore wind turbine technique research</h6>
      <p class="card-text">My research interests include distributed energy, wind turbine power generation technique , Computational fluid dynamic and programmable matter.</p>
      <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="/#contact" >
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://twitter.com/jueqingsizhe66" target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://scholar.google.co.uk/citations?user=7VyEMyQAAAAJ&amp;hl=zh-CN" target="_blank" rel="noopener">
        <i class="ai ai-google-scholar"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://github.com/jueqingsizhe66" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
    </li>
  
</ul>

    </div>
  </div>









  
  
  <div class="article-widget content-widget-hr">
    <h3>Related</h3>
    <ul>
      
      <li><a href="/blog/2015/05/14/yu-yan-chou-xiang/">语言抽象</a></li>
      
      <li><a href="/blog/2015/05/13/wei-di-gui/">尾递归</a></li>
      
      <li><a href="/blog/2015/05/13/qiu-ding-ji-fen/">求定积分</a></li>
      
      <li><a href="/blog/2015/05/12/zhao-chu-han-shu-de-bu-dong-dian-navier-stokesfang-cheng/">找出函数的不动点--Navier-Stokes方程</a></li>
      
      <li><a href="/blog/2015/05/12/zhe-ban-chao-zhao-you-tiao-jian/">折半查找有条件</a></li>
      
    </ul>


         <span id="busuanzi_container_site_pv"> 
             本站访问量：<span id="busuanzi_value_site_pv"></span>次 
         </span> 
         &nbsp; 
   </div> 


  </div>

</article>
<script src="https://utteranc.es/client.js"
        repo="jueqingsizhe66/jueqingsizhe66.github.io"
        issue-term="pathname"
        theme="github-dark"
        crossorigin="anonymous"
        async>
</script>

      

    
    
    
    <script src="/js/mathjax-config.js"></script>
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js" integrity="sha256-aYTdUrn6Ow1DDgh5JTc3aDGnnju48y/1c8s1dgkYPQ8=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/go.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/vim.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/matlab.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/sql.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/python.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/c.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/scheme.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/racket.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/perl.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/awk.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/clojure.min.js"></script>
        
      

      
      
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_CHTML-full" integrity="sha256-GhM+5JHb6QUzOQPXSJLEWP7R73CbkisjzK5Eyij4U9w=" crossorigin="anonymous" async></script>
      
    

    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.2.0/leaflet.js" integrity="sha512-lInM/apFSqyy1o6s89K4iQUKg6ppXEgsVxT35HbzUupEVRh2Eu9Wdl4tHj7dZO0s1uvplcYGmt3498TtHq+log==" crossorigin="anonymous"></script>
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    
    
    
    
    <script>
      const search_config = {"indexURI":"/index.json","minLength":1,"threshold":0.3};
      const i18n = {"no_results":"No results found","placeholder":"Search...","results":"results found"};
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.d6bd04fdad2ad213aa8111c5a3b72fc5.js"></script>

    






  
  
  <div class="container">
    <footer class="site-footer">
  

  <p class="powered-by">
    ©2020 &middot; 

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" class="back-to-top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

  </div>
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
